{"version":3,"sources":["webpack://txParams/webpack/universalModuleDefinition","webpack://txParams/webpack/bootstrap","webpack://txParams/./node_modules/core-js/internals/global.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/index.js","webpack://txParams/./node_modules/core-js/modules/es.object.assign.js","webpack://txParams/./node_modules/core-js/internals/fails.js","webpack://txParams/./node_modules/core-js/internals/an-object.js","webpack://txParams/./node_modules/core-js/internals/descriptors.js","webpack://txParams/./node_modules/core-js/internals/is-object.js","webpack://txParams/./node_modules/core-js/internals/require-object-coercible.js","webpack://txParams/./node_modules/core-js/internals/has.js","webpack://txParams/./node_modules/core-js/internals/well-known-symbol.js","webpack://txParams/./node_modules/core-js/modules/es.string.match.js","webpack://txParams/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://txParams/./node_modules/core-js/internals/object-define-property.js","webpack://txParams/./node_modules/@kisbox/utils/compat/index.js","webpack://txParams/./node_modules/core-js/internals/export.js","webpack://txParams/./node_modules/core-js/internals/redefine.js","webpack://txParams/./node_modules/core-js/internals/to-length.js","webpack://txParams/./node_modules/core-js/internals/to-integer.js","webpack://txParams/./node_modules/core-js/internals/regexp-exec.js","webpack://txParams/./node_modules/core-js/modules/es.string.replace.js","webpack://txParams/./node_modules/@kisbox/model/compat/lib/events.js","webpack://txParams/./node_modules/core-js/internals/to-indexed-object.js","webpack://txParams/./node_modules/core-js/internals/classof-raw.js","webpack://txParams/./node_modules/core-js/internals/set-global.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/object.js","webpack://txParams/./node_modules/core-js/internals/is-regexp.js","webpack://txParams/./node_modules/core-js/internals/regexp-flags.js","webpack://txParams/./node_modules/core-js/modules/es.regexp.to-string.js","webpack://txParams/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://txParams/./node_modules/core-js/internals/advance-string-index.js","webpack://txParams/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://txParams/./node_modules/@kisbox/model/compat/observable.js","webpack://txParams/./node_modules/@kisbox/model/compat/lib/traps.js","webpack://txParams/(webpack)/buildin/global.js","webpack://txParams/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://txParams/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://txParams/./node_modules/core-js/internals/create-property-descriptor.js","webpack://txParams/./node_modules/core-js/internals/indexed-object.js","webpack://txParams/./node_modules/core-js/internals/to-primitive.js","webpack://txParams/./node_modules/core-js/internals/ie8-dom-define.js","webpack://txParams/./node_modules/core-js/internals/inspect-source.js","webpack://txParams/./node_modules/core-js/internals/shared-store.js","webpack://txParams/./node_modules/core-js/internals/internal-state.js","webpack://txParams/./node_modules/core-js/internals/shared.js","webpack://txParams/./node_modules/core-js/internals/uid.js","webpack://txParams/./node_modules/core-js/internals/hidden-keys.js","webpack://txParams/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://txParams/./node_modules/core-js/internals/get-built-in.js","webpack://txParams/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://txParams/./node_modules/core-js/internals/object-keys-internal.js","webpack://txParams/./node_modules/core-js/internals/enum-bug-keys.js","webpack://txParams/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://txParams/./node_modules/core-js/internals/is-forced.js","webpack://txParams/./node_modules/core-js/internals/to-object.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/any.js","webpack://txParams/./node_modules/core-js/modules/es.symbol.description.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/prototype.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/meta.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/property.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/function.js","webpack://txParams/./node_modules/@kisbox/utils/compat/type.js","webpack://txParams/./node_modules/core-js/internals/native-symbol.js","webpack://txParams/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://txParams/./es5/model/tx-action.js","webpack://txParams/./es5/model/tx-specs.js","webpack://txParams/./node_modules/@cosmic-plus/helpers/es5/index.js","webpack://txParams/./es5/lib/status.js","webpack://txParams/./es5/format/transaction.js","webpack://txParams/./es5/format/query.js","webpack://txParams/./node_modules/core-js/modules/es.string.split.js","webpack://txParams/./es5/index.js","webpack://txParams/./es5/model/tx-params.js","webpack://txParams/./node_modules/core-js/internals/document-create-element.js","webpack://txParams/./node_modules/core-js/internals/native-weak-map.js","webpack://txParams/./node_modules/core-js/internals/shared-key.js","webpack://txParams/./node_modules/core-js/internals/is-pure.js","webpack://txParams/./node_modules/core-js/internals/own-keys.js","webpack://txParams/./node_modules/core-js/internals/path.js","webpack://txParams/./node_modules/core-js/internals/array-includes.js","webpack://txParams/./node_modules/core-js/internals/to-absolute-index.js","webpack://txParams/./node_modules/core-js/internals/object-assign.js","webpack://txParams/./node_modules/core-js/internals/object-keys.js","webpack://txParams/./node_modules/@kisbox/utils/compat/for-args.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/constructor.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/environment.js","webpack://txParams/./node_modules/process/browser.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/error.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/promise.js","webpack://txParams/./node_modules/core-js/modules/es.regexp.constructor.js","webpack://txParams/./node_modules/core-js/internals/inherit-if-required.js","webpack://txParams/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://txParams/./node_modules/core-js/internals/a-possible-prototype.js","webpack://txParams/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://txParams/./node_modules/core-js/internals/set-species.js","webpack://txParams/./es5/model/tx-format.js","webpack://txParams/./node_modules/core-js/modules/es.string.includes.js","webpack://txParams/./node_modules/core-js/internals/not-a-regexp.js","webpack://txParams/./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack://txParams/./es5/protocol/v13.js","webpack://txParams/./es5/action/check.js","webpack://txParams/./node_modules/core-js/modules/es.regexp.exec.js","webpack://txParams/./node_modules/core-js/internals/string-multibyte.js","webpack://txParams/./node_modules/@cosmic-plus/helpers/es5/date.js","webpack://txParams/./node_modules/@cosmic-plus/helpers/es5/string.js","webpack://txParams/./es5/action/normalize.js","webpack://txParams/./es5/action/parse.js","webpack://txParams/./node_modules/buffer/index.js","webpack://txParams/./node_modules/base64-js/index.js","webpack://txParams/./node_modules/ieee754/index.js","webpack://txParams/./node_modules/isarray/index.js","webpack://txParams/./node_modules/core-js/internals/species-constructor.js","webpack://txParams/./node_modules/core-js/internals/a-function.js","webpack://txParams/./es5/lib/parameters.js","webpack://txParams/./node_modules/@kisbox/model/compat/index.js","webpack://txParams/./node_modules/@kisbox/model/compat/live-object.js","webpack://txParams/./node_modules/@kisbox/model/compat/live-array.js","webpack://txParams/./es5/format/json.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","it","Math","check","globalThis","self","global","Function","assign","$","target","stat","forced","exec","error","isObject","TypeError","String","fails","undefined","shared","has","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","this","matcher","RegExp","res","done","rx","S","fullUnicode","unicode","lastIndex","result","A","matchStr","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","f","IE8_DOM_DEFINE","toPrimitive","nativeDefineProperty","P","Attributes","forArgs","type","getOwnPropertyDescriptor","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","options","source","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","noTargetGet","sham","inspectSource","InternalStateModule","getInternalState","enforceInternalState","enforce","TEMPLATE","split","unsafe","simple","join","toInteger","min","argument","ceil","floor","isNaN","re1","re2","regexpFlags","stickyHelpers","nativeExec","nativeReplace","replace","patchedExec","UPDATES_LAST_INDEX_WRONG","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","str","reCopy","match","re","sticky","flags","charsAdded","strCopy","indexOf","slice","multiline","input","index","length","arguments","toObject","max","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","REPLACE","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","push","accumulatedResult","nextSourcePosition","matched","position","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","tailPos","symbols","ch","capture","charAt","$util","noThrow","getPrototypeOf","$events","constructor","provider","clear","handlers","handler","Set","add","delete","context","args","proto","inherited","trigger","reallyTrigger","forEach","IndexedObject","toString","my","wrap","properties","associate","keys","func","objectMap","classof","wellKnownSymbol","isRegExp","that","ignoreCase","dotAll","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","rf","regexpExec","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","a","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","KEY","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","methods","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","string","arg","$traps","Observable","trapProperty","put","types","events","event","callback","safe","$on","$off","$sideScope","either","lock","setProperty","filter","guard","trapFunction","trapValue","wrapped","isTrapped","callFunction","returned","then","trapped","filtered","setValue","old","catch","console","resolved","g","e","propertyIsEnumerableModule","toIndexedObject","nativeGetOwnPropertyDescriptor","nativePropertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","V","bitmap","configurable","writable","PREFERRED_STRING","fn","val","valueOf","createElement","store","functionToString","set","NATIVE_WEAK_MAP","objectHas","sharedKey","hiddenKeys","WeakMap","wmget","wmhas","wmset","metadata","STATE","getterFor","TYPE","state","IS_PURE","version","copyright","id","postfix","random","ownKeys","getOwnPropertyDescriptorModule","path","aFunction","variable","namespace","method","internalObjectKeys","getOwnPropertyNames","names","getOwnPropertySymbols","feature","detection","data","normalize","POLYFILL","NATIVE","toLowerCase","isArrayLike","any","iterator","isAtom","Date","isInstance","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","symbol","desc","decontextualize","wrapper","Array","shift","hasOwn","hide","$tag","isIn","isOn","$memoizer","generator","accessor","$sideClass","hideLock","params","delay","thunk","setProperties","dispatch","rules","rule","value1","value2","xeach","entries","xmap","array","xassoc","$type","primitive","typeName","Error","Map","WeakSet","Promise","RE","tx","txBefore","iterate","txAfter","ops","map","op","opBefore","opAfter","output","field","specs","fieldType","mandatory","optional","opType","isTxMandatoryField","isTxOptionalField","includes","isOpMandatoryField","isOpOptionalField","defaults","verbosity","locked","failed","$status","messages","message","log","warn","isUtf8","decode","sdkTx","pubkey","neutral","stripNeutralSource","strip","sequence","stripNeutralSequence","network","horizon","timeBounds","minTime","maxTime","memo","_memo","fee","operations","sdkOp","asset","line","assetPath","amount","amountStr","buffer","timestamp","Number","toISOString","sdkMemo","_switch","_arm","_value","signer","sdkSigner","weight","ed25519PublicKey","sha256Hash","preAuthTx","threshold","Parameters","encode","opsParams","query","txParams","fail","parser","issuer","code","encodeURIComponent","assetLower","assetsList","authorizeFlag","flag","boolean","substr","date","price","numerator","denominator","url","speciesConstructor","callRegExpExec","arrayPush","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","separator","limit","lim","lastLength","lastLastIndex","separatorCopy","test","splitter","C","unicodeMatching","q","z","TxParams","setSpecs","setAction","setFormat","formatId","decoded","getFormat","transaction","x","parse","setOperation","splice","formats","format","Specs","action","Action","Format","document","EXISTS","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","integer","objectKeys","nativeAssign","b","B","chr","T","argumentsLength","enumBugKeys","formals","actuals","current","loop","typeError","next","unshift","generalize","isBrowser","isNode","process","versions","node","isEmbedded","top","nodeRequire","eval","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","noError","resolve","inheritIfRequired","getFlags","setInternalState","setSpecies","NativeRegExp","CORRECT_NEW","RegExpWrapper","pattern","thisIsRegExp","patternIsRegExp","flagsAreUndefined","proxy","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","aPossiblePrototype","setter","CORRECT_SETTER","__proto__","CONSTRUCTOR_NAME","Constructor","TxAction","notARegExp","correctIsRegExpLogic","searchString","METHOD_NAME","accountMerge","allowTrust","bumpSequence","changeTrust","createAccount","createPassiveSellOffer","manageData","manageBuyOffer","manageSellOffer","pathPaymentStrictReceive","pathPaymentStrictSend","payment","setOptions","assetCode","assetIssuer","authorize","bumpTo","buyAmount","buying","clearFlags","destAsset","destAmount","destMin","destination","highThreshold","homeDomain","lowThreshold","masterWeight","medThreshold","memoBinary","memoHash","memoId","memoReturn","memoText","memoType","offerId","selling","sendAmount","sendAsset","sendMax","setFlags","signerHash","signerKey","signerType","signerTx","signerWeight","startingBalance","trustor","shorter","isBase64","FEE_MAX","pow","PUBKEY_REGEXP","FEDERATED_REGEXP","HASH_REGEXP","ctx","checkInteger","parseInt","checkNumber","num","checkUtf8","checkBase64","checkHash","hash","isOpType","opMandatoryFields","isOpField","address","short","checkId","JSON","stringify","CONVERT_TO_STRING","pos","first","second","size","charCodeAt","codeAt","day","time","capitalize","toUpperCase","removeEmptyFields","minFee","XLM","neutralAsset","shifted","setMinutes","getMinutes","isArray","Buffer","_type","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","Uint8Array","encodingOrOffset","allocUnsafe","from","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","obj","isBuffer","checked","copy","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","arr","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","y","list","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","stringtrim","base64clean","src","dst","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","defaultConstructor","LiveObject","entry","decodeURIComponent","fromQuery","toQuery","prefix","fromJson","json","toJson","LiveArray","$pick","$export","transformer","$push","$pull","targetKey","$listen","depends","definition","setupDefinition","safeFlag","compute","promise","definitionDependsState","computeDefinition","setupTraps","item","propagateShiftOrPop","propagateUnshiftOrPush","propagateSplice","previous","$map","sort","clone","liveArray","_","updateTraps","diff","removed","added","$add","$remove","rindex","$change"],"mappings":"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","file":"tx-params.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"txParams\"] = factory();\n\telse\n\t\troot[\"txParams\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 70);\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","\"use strict\";\n/**\n * **Kisbox helpers** is a collection of independent functions that are required\n * by other @kisbox libraries.\n */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nObject.assign(exports, require(\"./any\"), require(\"./constructor\"), require(\"./environment\"), require(\"./error\"), require(\"./function\"), require(\"./meta\"), require(\"./object\"), require(\"./promise\"), require(\"./property\"), require(\"./prototype\"));","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","\"use strict\";\n/* Index */\n\nmodule.exports = {\n  forArgs: require(\"./for-args\"),\n  type: require(\"./type\")\n};","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","\"use strict\";\n/**\n * $events composable.\n *\n * @private\n **/\n\nconst {\n  $util,\n  noThrow\n} = require(\"@kisbox/helpers\");\n\nconst {\n  getPrototypeOf\n} = Object;\n/* Definition */\n\nconst $events = $util(\"/events/\", {\n  constructor: function constructor(target) {\n    this.provider = target;\n    this.clear();\n  },\n\n  clear() {\n    this.handlers = {};\n  },\n\n  put(type, handler) {\n    if (!this.handlers[type]) {\n      this.handlers[type] = new Set();\n    }\n\n    this.handlers[type].add(handler);\n  },\n\n  delete(type, handler) {\n    if (!handler) {\n      delete this.handlers[type];\n    } else if (this.handlers[type]) {\n      this.handlers[type].delete(handler);\n    }\n  },\n\n  trigger(context, type, args) {\n    // Inherited handlers.\n    const proto = getPrototypeOf(this.provider);\n    const inherited = $events.get(proto);\n    if (inherited) inherited.trigger(context, type, args); // Local handlers.\n\n    reallyTrigger(context, this.handlers[type], args);\n    reallyTrigger(context, this.handlers[\"*\"], args);\n  }\n\n});\n\nfunction reallyTrigger(context, handlers, args) {\n  if (!handlers) return;\n  handlers.forEach(handler => {\n    noThrow(() => handler.apply(context, args));\n  });\n}\n/* Exports */\n\n\nmodule.exports = $events;","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","\"use strict\";\n/*\n * Object Helpers\n *\n * @exports my.object\n */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nconst my = module.exports;\n/* Creation */\n\n/**\n * Create a new object with **prototype** and **properties**.\n */\n\nmy.wrap = function (prototype, properties) {\n  const object = Object.create(prototype);\n  if (properties) Object.assign(object, properties);\n  return object;\n};\n/**\n * Une fonction qui génère un object à partir d'une liste de clefs et d'une\n * fonction qui retourne une valeur pour chaque clef.\n */\n\n\nmy.associate = function (keys, func) {\n  const object = {};\n  keys.forEach(key => object[key] = func(key));\n  return object;\n};\n/* Mutation */\n\n/**\n * Create a new object with the same properties than **object** but whose values\n * have been transformed by **func**.\n *\n * TODO: make it a xmap\n */\n\n\nmy.objectMap = function (object, func) {\n  const keys = Object.keys(object);\n  return my.associate(keys, key => func(object[key], key));\n};","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","\"use strict\";\n/**\n * Observable: extends Objects with event capabilities.\n *\n * @exports Observable\n */\n\nconst {\n  forArgs\n} = require(\"@kisbox/utils\");\n\nconst {\n  call\n} = require(\"@kisbox/helpers\");\n\nconst $events = require(\"./lib/events\");\n\nconst $traps = require(\"./lib/traps\");\n/* Definition */\n\n\nclass Observable {\n  /* (type, handler)\n   * ([...types], handler)\n   * ({ ...type: handler })\n   */\n  $on() {\n    forArgs([\"keys:atom\"], arguments, (type, handler) => {\n      $traps.trapProperty(this, type);\n      $events(this).put(type, handler);\n    });\n  }\n  /* (type, [handler])\n   * ([...types], [handler])\n   * ({ ...type: handler })\n   */\n\n\n  $off(types) {\n    if (!types) {\n      // delete this[$events.symbol]?\n      $events(this).clear();\n    } else {\n      forArgs([\"keys:atom\"], arguments, (type, handler) => {\n        $events(this).delete(type, handler);\n      });\n    }\n  } // Move $set here?\n\n  /* (type, ...args)\n   * ([...types], ...args)\n   *\n   * TODO: remove this one! :)\n   */\n\n\n  $trigger(types, ...args) {\n    forArgs([\"atoms\"], [types], type => {\n      const events = $events.get(this);\n      if (events) events.trigger(this, type, args);\n    });\n  } // TODO: memory management\n\n\n  $listen() {\n    forArgs([\"value\", \"keys:atom\"], arguments, (target, event, callback) => {\n      safe.$on(target, event, callback);\n    });\n  }\n\n  $ignore() {\n    forArgs([\"value\", \"keys:atom\"], arguments, (target, event, callback) => {\n      safe.$off(target, event, callback);\n    });\n  } // TODO: replace by melt\n\n\n  $destroy() {}\n\n}\n\nconst safe = call(Observable);\n/* Export */\n\nmodule.exports = Observable;","\"use strict\";\n/**\n * $traps side-scope.\n *\n * @private\n **/\n\nconst {\n  type\n} = require(\"@kisbox/utils\");\n\nconst {\n  $sideScope,\n  either,\n  lock,\n  setProperty\n} = require(\"@kisbox/helpers\");\n\nconst $events = require(\"./events\"); // sideScope inherits from parents sideScopes.\n\n\nconst $traps = $sideScope(\"/traps/\");\n/* Library */\n\n$traps.trapProperty = function (target, key, guard) {\n  if (typeof target[key] === \"function\") {\n    $traps.trapFunction(target, key);\n  } else {\n    $traps.trapValue(target, key, guard);\n  }\n};\n\n$traps.trapFunction = function (target, key) {\n  const wrapped = target[key];\n  if (wrapped && wrapped.isTrapped) return;\n  lock(target, key, function () {\n    return $traps.callFunction(this, key, wrapped, arguments);\n  });\n  target[key].isTrapped = true;\n};\n\n$traps.callFunction = function (context, key, wrapped, args) {\n  const returned = wrapped.apply(context, args);\n  const events = $events.get(context);\n\n  if (type(returned) === \"promise\") {\n    returned.then(value => {\n      events.trigger(context, key, [args, value, key, context]);\n    });\n  } else {\n    events.trigger(context, key, [args, returned, key, context]);\n  }\n\n  return returned;\n};\n\n$traps.trapValue = function (target, key, guard) {\n  const trapped = $traps(target);\n  if (key in trapped) return;\n  trapped[key] = filter(guard, target[key]);\n  setProperty(target, key, {\n    get() {\n      return $traps(this)[key];\n    },\n\n    set(value) {\n      const filtered = filter(guard, value);\n      $traps.setValue(this, key, filtered, true);\n    }\n\n  });\n};\n/*\n * Update trapped value & emit an event if **check** is false or if **value**\n * changed.\n */\n\n\n$traps.setValue = function (target, key, value, check) {\n  const trapped = $traps(target);\n  const old = trapped[key];\n\n  if (!(check && value === old)) {\n    trapped[key] = value; // TODO: avoid triggering \"*\" twice :(\n\n    const events = $events(target);\n    events.trigger(target, key, [value, old, key, target]);\n    events.trigger(target, \"$set\", [value, old, key, target]); // Auto-update promises...\n\n    if (type(value) === \"promise\") {\n      value.catch(error => {\n        console.error(error);\n        return error;\n      }).then(resolved => {\n        // ... only when key hasn't been changed meanwhile.\n        if (target[key] === value) {\n          $traps.setValue(target, key, resolved);\n        }\n      });\n    }\n  }\n};\n/* Helpers */\n\n\nfunction filter(func, value) {\n  return func ? either(func(value), value) : value;\n}\n/* Exports */\n\n\nmodule.exports = $traps;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","module.exports = {};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","exports.f = Object.getOwnPropertySymbols;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","\"use strict\";\n/**\n * Helpers for objects whose type is unknown.\n *\n * @exports any\n * */\n\nrequire(\"core-js/modules/es.symbol.description\");\n\nconst my = exports;\n\nmy.isArrayLike = function (any) {\n  // https://stackoverflow.com/a/55080450\n  return !!any && typeof any[Symbol.iterator] === \"function\" && typeof any.length === \"number\" && typeof any !== \"string\";\n};\n\nmy.isAtom = function (any) {\n  return any === null || typeof any !== \"object\" || any instanceof Date;\n};\n/**\n * Returns whether **any** is the instance of a class.\n *\n * @param {Any} any\n * @return {Boolean}\n */\n\n\nmy.isInstance = function (any) {\n  return !(any.prototype && any.prototype.constructor === any);\n};","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","\"use strict\";\n/**\n * Prototype-related helpers\n *\n * @exports prototype\n */\n\nconst my = exports;\n\nconst {\n  associate\n} = require(\"./object\");\n/**\n * Accepte un prototype et retourne ses méthodes de-contextualisées.\n */\n\n\nmy.decontextualize = function (prototype) {\n  const keys = Object.getOwnPropertyNames(prototype);\n  const methods = keys.filter(key => typeof prototype[key] === \"function\"); // TODO: find a more efficient way?\n\n  const wrapper = associate(methods, key => {\n    const wrapped = prototype[key]; // return context => {\n    //   const args = Array.prototype.slice.call(arguments, 1)\n    //   return wrapped.call(context, args)\n    // }\n\n    return function () {\n      const context = Array.prototype.shift.call(arguments);\n      return wrapped.apply(context, arguments);\n    };\n  });\n  delete wrapper.constructor;\n  return wrapper;\n};","\"use strict\";\n/**\n * Helpers related to meta-programming\n *\n * @todo Reword names (trait, mark, sideScope, sideClass, utility)\n *\n * @exports $meta\n * */\n\nrequire(\"core-js/modules/es.symbol.description\");\n\nrequire(\"core-js/modules/es.object.assign\");\n\nconst my = exports;\n\nconst {\n  hasOwn,\n  hide\n} = require(\"./property\");\n/**\n * Encapsulated _Symbol_ + base utilities.\n **/\n\n\nmy.$tag = function (name = \"/tag/\") {\n  const symbol = Symbol(name);\n  return {\n    get: target => target[symbol],\n    set: (target, value) => hide(target, symbol, value),\n    isIn: target => !!target[symbol],\n    isOn: target => hasOwn(target, symbol)\n  };\n};\n/**\n * Une fonction qui sauvegarde le résultat d'une computation pour un object\n * donné.\n *\n * @param {String} [name=memoized] - Name of the $memoizer symbol.\n * @param {Function} [generator] - The computation to perform on targets.\n */\n\n\nmy.$memoizer = function (name = \"/memoized/\", generator = () => Object.create(null)) {\n  const $tag = my.$tag(name);\n\n  const accessor = function accessor(target) {\n    if (!$tag.isOn(target)) $tag.set(target, generator(target));\n    return $tag.get(target);\n  };\n\n  Object.assign(accessor, $tag);\n  return accessor;\n};\n\nmy.$util = function (name = \"/utility/\", methods = {}) {\n  const constructor = methods.constructor || function () {}; // const constructor = methods.constructor ? methods.constructor :\n\n\n  constructor.prototype = methods;\n  return my.$memoizer(name, target => new constructor(target));\n};\n/**\n * SideScope is a memoizer.\n **/\n\n\nmy.$sideScope = function (name = \"/sideScope/\", prototype) {\n  const accessor = my.$memoizer(name, object => {\n    const proto = Object.getPrototypeOf(object);\n    const inherited = accessor(proto);\n    const returned = Object.create(inherited); // TODO: possible extension\n    //     if (typeof prototype === \"function\") {\n    //       Object.assign(returned, prototype(object))\n    //     }\n\n    return returned;\n  }); // Root SideScope.\n\n  accessor.set(Object.prototype, prototype || Object.create(null));\n  return accessor;\n};\n\nmy.$sideClass = function (name = \"/sideClass/\", constructor) {\n  return my.$sideScope(name, constructor.prototype);\n};","\"use strict\";\n/**\n * Properties-related helpers\n *\n * @todo Sane handler of property defaults\n * @exports property\n */\n\nconst my = exports;\n\nconst {\n  either\n} = require(\"./function\");\n\nconst {\n  wrap\n} = require(\"./object\");\n/* Introspection */\n\n\nmy.hasOwn = function (object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n};\n/* Configuration */\n\n\nmy.hide = function (object, key, value) {\n  const flags = {\n    enumerable: false\n  };\n  if (arguments.length === 3) flags.value = value;\n  my.setProperty(object, key, flags);\n};\n\nmy.lock = function (object, key, value) {\n  const flags = {\n    writable: false,\n    configurable: false\n  };\n  if (arguments.length === 3) flags.value = value;\n  my.setProperty(object, key, flags);\n};\n\nmy.hideLock = function (object, key, value) {\n  const flags = {\n    writable: false,\n    enumerable: false,\n    configurable: false\n  };\n  if (arguments.length === 3) flags.value = value;\n  my.setProperty(object, key, flags);\n};\n\nmy.setProperty = function (object, key, params = {}) {\n  if (key in object) {\n    // Property exists, `undefined` flags retains current values.\n    if (!(\"value\" in params || \"set\" in params || \"get\" in params)) {\n      params = Object.create(params);\n      params.value = object[key];\n    }\n\n    Object.defineProperty(object, key, params);\n  } else {\n    // Property doesn't exist: only unset requested flags.\n    const flags = wrap(params, {\n      enumerable: either(params.enumerable, true),\n      configurable: either(params.configurable, true)\n    });\n\n    if (!(\"get\" in params || \"set\" in params)) {\n      flags.writable = either(params.writable, true);\n    }\n\n    Object.defineProperty(object, key, flags);\n  }\n};\n/* Applications */\n\n/**\n * Retarde l'évaluation de la valeur de **key** au moment de la lecture.\n */\n\n\nmy.delay = function (object, key, thunk) {\n  Object.setProperties(object, key, {\n    get: () => {\n      object[key] = thunk();\n      return object[key];\n    }\n  });\n};","\"use strict\";\n/*\n * Function-related helpers\n *\n * @exports function\n */\n\nconst my = exports;\n\nconst {\n  isAtom,\n  isArrayLike\n} = require(\"./any\");\n/* Library */\n\n/**\n * Pass _rule_ to **callback**, where _rule_ is either **key** in **rules** or\n * `*` in **rules**. If no _rule_ is found, do nothing.\n */\n\n\nmy.dispatch = function (rules, key, callback) {\n  const rule = rules[key] || rules[\"*\"];\n  if (rule) return callback(rule);\n};\n/*\n * Returns **value1** when not `undefined`, else **value2**.\n */\n\n\nmy.either = function (value1, value2) {\n  return value1 === undefined ? value2 : value1;\n};\n/**\n * Takes **any** object, apply **func** to it if it is an atom, or apply\n * **func** to each of its elements if it is a composite object.\n *\n * @param {Any} any\n * @param {Function} callback\n **/\n\n\nmy.xeach = function (any, callback) {\n  if (any == null) {\n    return;\n  } else if (isAtom(any)) {\n    callback(any, \"atom\");\n  } else if (typeof any.forEach === \"function\") {\n    any.forEach(callback);\n  } else if (isArrayLike(any)) {\n    Array.prototype.forEach.call(any, callback);\n  } else {\n    Object.entries(any).forEach(([key, value]) => {\n      callback(value, key);\n    });\n  }\n};\n/**\n * Takes **any** object, apply **function** and returns an _Array_.\n *\n * @param {*} any\n * @param {Function} callback\n * @return {Array}\n **/\n\n\nmy.xmap = function (any, callback) {\n  const array = [];\n  my.xeach(any, (value, key) => {\n    array.push(callback(value, key));\n  });\n  return array;\n};\n/**\n * Takes **any** object, apply **function** and returns an _Object_.\n *\n * @param {*} any\n * @param {Function} callback\n * @return {Object}\n **/\n\n\nmy.xassoc = function (any, callback) {\n  const object = {};\n  my.xeach(any, (value, key) => {\n    const returned = callback(value, key);\n    if (returned !== undefined) object[key] = returned;\n  });\n  return object;\n};","\"use strict\";\n/**\n * A lightweight yet complete alternative to `typeof` based on traits.\n **/\n\nrequire(\"core-js/modules/es.regexp.constructor\");\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nconst {\n  $tag,\n  isArrayLike,\n  isAtom,\n  isInstance\n} = require(\"@kisbox/helpers\");\n\nconst $type = $tag(\"/type/\");\n/* Definition */\n\nfunction type(any) {\n  const primitive = typeof any;\n\n  if (primitive === \"object\") {\n    return any === null ? \"null\" : $type.get(any);\n  } else {\n    return primitive;\n  }\n}\n\ntype.set = function (constructor, typeName) {\n  $type.set(constructor.prototype, typeName);\n};\n/* Special Type Testing */\n\n\ntype.isArrayLike = isArrayLike;\ntype.isAtom = isAtom;\ntype.isInstance = isInstance;\n/* Initial Setup */\n\ntype.set(Array, \"array\");\ntype.set(Date, \"date\");\ntype.set(Error, \"error\");\ntype.set(Map, \"map\");\ntype.set(Object, \"object\"); // type.set(Proxy, \"proxy\")\n\ntype.set(RegExp, \"regexp\");\ntype.set(Set, \"set\");\ntype.set(WeakSet, \"weakset\");\ntype.set(WeakMap, \"weakmap\");\n\nif (typeof Promise !== \"undefined\") {\n  type.set(Promise, \"promise\");\n}\n/* Export */\n\n\nmodule.exports = type;","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","\"use strict\";\n/**\n * TxParams.Action\n */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nconst {\n  xeach\n} = require(\"@kisbox/helpers\");\n/* Definition */\n\n\nclass TxAction {\n  constructor(rules) {\n    Object.assign(this, rules);\n  }\n\n  transaction(tx, ...params) {\n    if (this.txBefore) tx = this.txBefore(tx, ...params) || tx;\n    this.iterate(tx, tx);\n    if (this.txAfter) tx = this.txAfter(tx, ...params) || tx;\n    return tx;\n  }\n\n  operations(ops, tx) {\n    return ops.map(op => {\n      if (this.opBefore) op = this.opBefore(op, tx) || op;\n      this.iterate(op, tx);\n      if (this.opAfter) op = this.opAfter(op, tx) || op;\n      return op;\n    });\n  }\n\n  iterate(object, tx) {\n    xeach(object, (value, key) => {\n      if (value !== undefined) {\n        const output = this.field(key, value, tx);\n\n        if (output === undefined) {\n          delete object[key];\n        } else {\n          object[key] = output;\n        }\n      }\n    });\n  }\n\n  field(key, value, tx) {\n    const type = tx.specs.fieldType(key);\n\n    if (this[type]) {\n      return this[type](value, tx);\n    } else if (this[\"any\"]) {\n      return this[\"any\"](value, tx);\n    } else {\n      return value;\n    }\n  }\n\n}\n/* Export */\n\n\nmodule.exports = TxAction;","\"use strict\";\n/**\n * TxSpecs - Wraps Stellar transaction specifications.\n */\n\n/* Definition */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nrequire(\"core-js/modules/es.string.includes\");\n\nclass TxSpecs {\n  constructor(specs) {\n    Object.assign(this, specs);\n  }\n  /* Data */\n\n\n  txMandatoryFields() {\n    return this.tx.mandatory;\n  }\n\n  txOptionalFields() {\n    return this.tx.optional;\n  }\n\n  opMandatoryFields(opType) {\n    return this.op[opType].mandatory;\n  }\n\n  opOptionalFields(opType) {\n    return this.op[opType].optional;\n  }\n\n  fieldType(field) {\n    return this.type[field];\n  }\n  /* Tests */\n\n\n  isTxField(field) {\n    return this.isTxMandatoryField(field) || this.isTxOptionalField(field);\n  }\n\n  isTxMandatoryField(field) {\n    return this.tx.mandatory.includes(field);\n  }\n\n  isTxOptionalField(field) {\n    return this.tx.optional.includes(field);\n  }\n\n  isOpType(opType) {\n    return !!this.op[opType];\n  }\n\n  isOpField(opType, field) {\n    return this.isOpMandatoryField(opType, field) || this.isOpOptionalField(opType, field);\n  }\n\n  isOpMandatoryField(opType, field) {\n    return !!this.op[opType].mandatory.includes(field);\n  }\n\n  isOpOptionalField(opType, field) {\n    return !!this.op[opType].optional.includes(field);\n  }\n\n}\n/* Export */\n\n\nmodule.exports = TxSpecs;","\"use strict\";\n/* Index */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nObject.assign(exports, require(\"./date\"), require(\"./string\"));","\"use strict\";\n/**\n * $status utility\n */\n\nconst {\n  $util,\n  wrap\n} = require(\"@kisbox/helpers\");\n/* Configuration */\n\n\nconst defaults = {\n  verbosity: 2,\n  state: null,\n  locked: false,\n  failed: false\n};\n/* Definition */\n\nconst $status = $util(\"/status/\", wrap(defaults, {\n  /* Constructor */\n  constructor: function constructor(source) {\n    this.source = source;\n    this.messages = [];\n  },\n\n  /* Methods */\n  log(message) {\n    this.messages.push([\"log\", message]);\n    /* eslint-disable-next-line no-console */\n\n    if (this.verbosity > 1) console.log(message, \">>\", this.source);\n  },\n\n  warn(message) {\n    this.messages.push([\"warn\", message]);\n    if (this.verbosity > 0) console.warn(message, \">>\", this.source);\n  },\n\n  error(message) {\n    this.messages.push([\"error\", message]);\n    if (this.verbosity > 0) console.error(message, \">>\", this.source);\n    return new Error(message, this.source);\n  },\n\n  set(state) {\n    if (this.locked) return;\n    this.state = state;\n\n    if (this.verbosity > 2) {\n      /* eslint-disable-next-line no-console */\n      console.log(\"Set state: \".concat(state), \">>\", this.source);\n    }\n  },\n\n  lock(state) {\n    if (this.locked) return;\n    if (state !== undefined) this.set(state);\n    this.locked = true;\n    /* eslint-disable-next-line no-console */\n\n    if (this.verbosity > 2) console.log(\"Lock state\", \">>\", this.source);\n  },\n\n  fail(state) {\n    if (this.locked) return;\n    this.failed = true;\n    this.lock(state);\n\n    if (this.verbosity > 2 || this.verbosity > 0 && !state) {\n      console.error(\"Failure\", \">>\", this.source);\n    } else if (this.verbosity > 0) {\n      console.error(\"Failure: \".concat(state), \">>\", this.source);\n    }\n\n    return new Error(state, this.source);\n  }\n\n}));\n/* Export */\n\n$status.defaults = defaults;\nmodule.exports = $status;","\"use strict\";\n/**\n * TxParams format: SDK Transaction\n */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nrequire(\"core-js/modules/es.string.match\");\n\nrequire(\"core-js/modules/es.string.replace\");\n\nconst {\n  wrap\n} = require(\"@kisbox/helpers\");\n\nconst {\n  isUtf8\n} = require(\"@cosmic-plus/helpers\");\n/* Definition */\n\n\nconst decode = {};\n/* Rules: transaction */\n\ndecode.txBefore = function (tx, sdkTx, options = {}) {\n  // Prevent parameters pollution\n  if (options) options = wrap(options);\n\n  if (sdkTx.source === tx.specs.pubkey.neutral && options.stripNeutralSource) {\n    options.strip = \"source\";\n  } else if (sdkTx.sequence === \"0\" && options.stripNeutralSequence) {\n    options.strip = \"sequence\";\n  }\n\n  tx.network = options.network;\n  tx.horizon = options.horizon;\n  tx.callback = options.callback;\n\n  if (options.strip !== \"source\") {\n    tx.source = sdkTx.source;\n\n    if (options.strip !== \"sequence\") {\n      tx.sequence = sdkTx.sequence;\n    }\n  }\n\n  if (sdkTx.timeBounds) {\n    tx.minTime = sdkTx.timeBounds.minTime;\n    tx.maxTime = sdkTx.timeBounds.maxTime;\n  }\n\n  tx.memo = sdkTx._memo;\n  tx.fee = sdkTx.fee;\n  tx.operations = sdkTx.operations;\n  return tx;\n};\n\ndecode.txAfter = function (tx) {\n  // Move operations to the end of the object\n  const operations = tx.operations;\n  delete tx.operations;\n  tx.operations = operations;\n};\n/* Rules: operations */\n\n\ndecode.opBefore = function (sdkOp) {\n  const op = Object.assign({}, sdkOp);\n\n  if (\"line\" in op) {\n    op.asset = op.line;\n    delete op.line;\n  }\n\n  return op;\n};\n/* Rules: fields */\n\n\ndecode.asset = function (asset) {\n  return Object.assign({}, asset);\n};\n\ndecode.assetPath = function (assetPath) {\n  return assetPath.map(asset => decode.asset(asset));\n};\n\ndecode.amount = function (amount) {\n  const amountStr = String(amount); // Remove useless decimals (but don't mutate \"fee\")\n  // TODO: use a dedicated type for fees?\n\n  if (amountStr.match(/\\./)) {\n    return amountStr.replace(/\\.?0+$/, \"\");\n  } else {\n    return amountStr;\n  }\n};\n\ndecode.buffer = function (buffer) {\n  if (!buffer) return null;\n  const string = buffer.toString();\n\n  if (isUtf8(string)) {\n    return {\n      type: \"text\",\n      value: string\n    };\n  } else {\n    const value = buffer.toString(\"base64\").replace(/=*$/, \"\");\n    return {\n      type: \"base64\",\n      value: value\n    };\n  }\n};\n\ndecode.date = function (timestamp) {\n  if (timestamp === \"0\") return;\n  return new Date(Number(timestamp) * 1000).toISOString();\n};\n\ndecode.flags = String;\n\ndecode.memo = function (sdkMemo) {\n  if (sdkMemo._switch.name === \"memoNode\") return;\n  const memo = {\n    type: sdkMemo._arm\n  };\n\n  switch (memo.type) {\n    case \"text\":\n      return decode.buffer(sdkMemo._value);\n\n    case \"retHash\":\n      memo.type = \"return\";\n    // Fallthrough\n\n    case \"hash\":\n      memo.value = sdkMemo._value.toString(\"hex\");\n      return memo;\n\n    case \"id\":\n      memo.value = sdkMemo._value.toString();\n      return memo;\n  }\n};\n\ndecode.sequence = function (sequence) {\n  return sequence.toString();\n};\n\ndecode.signer = function (sdkSigner) {\n  const signer = {\n    weight: decode.weight(sdkSigner.weight)\n  };\n\n  if (sdkSigner.ed25519PublicKey) {\n    signer.type = \"key\";\n    signer.value = sdkSigner.ed25519PublicKey;\n  } else if (sdkSigner.sha256Hash) {\n    signer.type = \"hash\";\n    signer.value = sdkSigner.sha256Hash.toString(\"hex\");\n  } else if (sdkSigner.preAuthTx) {\n    signer.type = \"tx\";\n    signer.value = sdkSigner.preAuthTx.toString(\"hex\");\n  }\n\n  return signer;\n};\n\ndecode.threshold = String;\ndecode.weight = String;\n/* Export */\n\nmodule.exports = {\n  decode\n};","\"use strict\";\n/**\n * TxParams Format: Query\n */\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nrequire(\"core-js/modules/es.string.match\");\n\nrequire(\"core-js/modules/es.string.replace\");\n\nrequire(\"core-js/modules/es.string.split\");\n\nconst {\n  xmap\n} = require(\"@kisbox/helpers\");\n\nconst Parameters = require(\"../lib/parameters\");\n\nconst $status = require(\"../lib/status\");\n/* Definition */\n\n\nconst encode = {},\n      decode = {};\n/* Rules: transaction */\n\nencode.txAfter = function (tx) {\n  let query = \"?\";\n  let type, opsParams;\n\n  if (tx.operations.length === 1 && !tx.operations[0][1].match(/(^|&)source=/)) {\n    [type, opsParams] = tx.operations[0];\n  } else {\n    type = \"transaction\";\n    opsParams = xmap(tx.operations, ([type, params]) => {\n      if (!params.length) return \"operation=\".concat(type);else return \"operation=\".concat(type, \"&\").concat(params);\n    }).join(\"&\");\n  }\n\n  delete tx.operations;\n  const txParams = xmap(tx, (value, field) => \"\".concat(field, \"=\").concat(value)).join(\"&\");\n  query += \"type=\".concat(type);\n  if (txParams) query += \"&\".concat(txParams);\n  if (opsParams.length) query += \"&\".concat(opsParams);\n  return query;\n};\n\ndecode.txBefore = function (tx, data) {\n  if (data[0] !== \"?\") throw $status(tx).fail(\"Invalid query\"); // Backward compatibility with the old non-standard syntax, deprecated since\n  // 2019-08-26. This adds `type=` at the beginning of the query when the first\n  // parameter doesn't contains an `=` sign.\n\n  if (data.match(/^\\?\\w+(&|$)/)) data = \"?type=\".concat(data);\n  let parser;\n  Parameters.forEach(data, (value, field) => {\n    if (field === \"type\") {\n      if (parser) {\n        throw $status(tx).error(\"Query declares 'type' several times.\");\n      } else if (value !== \"transaction\") {\n        tx.operations[0] = {\n          type: value\n        };\n      }\n\n      parser = value;\n      return;\n    } else if (!parser) {\n      throw $status(tx).error(\"Query doesn't declare 'type' in first position.\");\n    }\n\n    if (field === \"operation\") {\n      if (parser === \"transaction\" || parser === \"operation\") {\n        tx.operations.push({\n          type: value\n        });\n        parser = \"operation\";\n        return;\n      } else {\n        throw $status(tx).error(\"Invalid parameter: operation.\");\n      }\n    }\n\n    if (parser === \"transaction\") {\n      // Multi-operation link.\n      tx[field] = value;\n    } else if (parser === \"operation\") {\n      // One-operation link.\n      tx.operations[tx.operations.length - 1][field] = value;\n    } else {\n      if (tx.specs.isTxOptionalField(field)) {\n        // if (tx.specs.isTxField(field)) {\n        tx[field] = value;\n      } else {\n        tx.operations[0][field] = value;\n      }\n    }\n  }); // Move operations to the end of the object\n\n  const operations = tx.operations;\n  delete tx.operations;\n  tx.operations = operations;\n};\n/* Rules: operations */\n\n\nencode.opAfter = function (op) {\n  const type = op.type;\n  delete op.type;\n  const params = xmap(op, (value, field) => \"\".concat(field, \"=\").concat(value)).join(\"&\");\n  return [type, params];\n};\n/* Rules: fields */\n\n\nencode.asset = function (asset) {\n  if (asset.issuer) {\n    const code = encodeURIComponent(asset.code);\n    const issuer = encodeURIComponent(asset.issuer);\n    return \"\".concat(code, \":\").concat(issuer);\n  }\n};\n\ndecode.asset = function (asset) {\n  const assetLower = asset.toLowerCase();\n\n  if (assetLower === \"xlm\" || assetLower === \"native\") {\n    return {\n      code: \"XLM\"\n    };\n  } else {\n    const [code, issuer] = asset.split(\":\");\n    return {\n      code,\n      issuer\n    };\n  }\n};\n\nencode.assetPath = function (assetPath) {\n  return assetPath.map(asset => encode.asset(asset)).toString();\n};\n\ndecode.assetPath = function (assetsList) {\n  return assetsList.split(\",\").map(decode.asset);\n};\n\ndecode.authorizeFlag = function (flag) {\n  if (!isNaN(+flag)) {\n    return +flag;\n  } else {\n    // Backward compatibility. (protocol =< 12)\n    return decode.boolean(flag);\n  }\n};\n\nencode.boolean = function (boolean) {\n  if (boolean === false) return \"false\";\n};\n\ndecode.boolean = function (string) {\n  return string !== \"false\";\n};\n\nencode.buffer = function (buffer) {\n  if (buffer.type === \"text\") {\n    // Guard against prefix mis-interpretation.\n    const decoded = decode.buffer(buffer.value);\n    if (decoded.type === \"text\") return encodeURIComponent(buffer.value);\n  } else if (buffer) {\n    return \"\".concat(buffer.type, \":\").concat(encodeURIComponent(buffer.value));\n  }\n};\n\ndecode.buffer = function (string) {\n  const matched = string.match(/(^[^:]*):/);\n  const type = matched && matched[1];\n\n  switch (type) {\n    case \"base64\":\n      {\n        const value = string.substr(type.length + 1);\n        return {\n          type,\n          value\n        };\n      }\n\n    case \"text\":\n      string = string.substr(type.length + 1);\n    // Fallthrough\n\n    default:\n      return {\n        type: \"text\",\n        value: decode.string(string)\n      };\n  }\n};\n\nencode.date = function (date) {\n  return date.replace(/Z$/, \"\");\n};\n\ndecode.date = function (string) {\n  // now + {minutes} syntactic sugar\n  if (string.match(/^\\+[0-9]+$/)) return string; // Use UTC timezone by default.\n\n  if (string.match(/T[^+]*[0-9]$/)) string += \"Z\";\n  return new Date(string).toISOString();\n};\n\nencode.memo = function (memo) {\n  if (memo.type === \"text\") {\n    // Guard against prefix mis-interpretation.\n    const decoded = decode.memo(memo.value);\n    if (decoded.type === \"text\") return encodeURIComponent(memo.value);\n  }\n\n  return \"\".concat(memo.type, \":\").concat(encodeURIComponent(memo.value));\n};\n\ndecode.memo = function (string) {\n  const matched = string.match(/(^[^:]*):/);\n  const type = matched && matched[1];\n\n  switch (type) {\n    case \"base64\":\n    case \"id\":\n    case \"hash\":\n    case \"return\":\n      {\n        const value = string.substr(type.length + 1);\n        return {\n          type,\n          value\n        };\n      }\n\n    case \"text\":\n      string = string.substr(type.length + 1);\n    // Fallthrough\n\n    default:\n      return {\n        type: \"text\",\n        value: decode.string(string)\n      };\n  }\n};\n\nencode.price = function (price) {\n  if (typeof price === \"string\") {\n    return price;\n  } else {\n    return \"\".concat(price.n, \":\").concat(price.d);\n  }\n};\n\ndecode.price = function (string) {\n  const [numerator, denominator] = string.split(\":\");\n\n  if (!denominator) {\n    return numerator;\n  } else {\n    return {\n      n: +numerator,\n      d: +denominator\n    };\n  }\n};\n\nencode.signer = function (signer) {\n  return \"\".concat(signer.weight, \":\").concat(signer.type, \":\").concat(signer.value);\n};\n\ndecode.signer = function (string) {\n  const [weight, type, value] = string.split(\":\");\n  return {\n    weight,\n    type,\n    value\n  };\n};\n\ndecode.string = function (string) {\n  return string.replace(/\\+/g, \" \");\n};\n\nencode.url = function (url) {\n  if (url.substr(0, 8) === \"https://\") {\n    url = url.substr(8);\n  }\n\n  return encodeURIComponent(url);\n};\n\ndecode.network = decode.string; // Defaults\n\nencode[\"*\"] = function (any) {\n  return encodeURIComponent(any);\n};\n/* Export */\n\n\nmodule.exports = {\n  encode,\n  decode\n};","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","\"use strict\";\n/**\n *\n */\n\nconst TxParams = require(\"./model/tx-params\");\n/* Protocol */\n\n\nTxParams.setSpecs(require(\"./protocol/v13\"));\n/* Actions */\n\nTxParams.setAction(\"check\", require(\"./action/check\"));\nTxParams.setAction(\"normalize\", require(\"./action/normalize\"));\nTxParams.setAction(\"parse\", require(\"./action/parse\"));\n/* Formats */\n\nTxParams.setFormat(\"query\", require(\"./format/query\"));\nTxParams.setFormat(\"json\", require(\"./format/json\"));\nTxParams.setFormat(\"transaction\", require(\"./format/transaction\"));\n/* Export */\n\nmodule.exports = TxParams;","\"use strict\";\n/**\n * TxParams - Extensible Stellar transactions manipulation\n */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nconst {\n  type\n} = require(\"@kisbox/utils\");\n/* Definition */\n\n\nclass TxParams {\n  static from(formatId, data, options) {\n    const format = this.getFormat(formatId);\n    const decoded = format.decode.transaction(new this(), data, options);\n    return sync(decoded, txParams => {\n      txParams.normalize();\n      return txParams;\n    });\n  }\n\n  constructor(params) {\n    Object.assign(this, params);\n    this.parse();\n  }\n  /* Convertion */\n\n\n  to(type, options) {\n    const format = this.constructor.getFormat(type);\n    return format.encode.transaction(this, options);\n  }\n  /* Editor */\n\n\n  addOperation(name, params) {\n    this.setOperation(this.operations.length, name, params);\n    return this;\n  }\n\n  insertOperation(index, name, params) {\n    this.operations.splice(index, 0, 1);\n    this.setOperation(index, name, params);\n    return this;\n  }\n\n  setOperation(index, name, params) {\n    // this.specs.checkOperationType(name)\n    const op = Object.assign({\n      type: name\n    }, params);\n    this.operations[index] = op; // TODO: this.parse.operation(op)\n\n    this.parse();\n    return this;\n  }\n\n  removeOperation(index) {\n    this.operations.splice(index, 1);\n    return this;\n  }\n\n}\n/* Data */\n\n\nTxParams.formats = [];\n/* Utilities */\n\nTxParams.getFormat = function (type) {\n  const format = this.formats[type];\n  if (!format) throw new Error(\"Unknow format: \".concat(type));\n  return format;\n};\n\nTxParams.setSpecs = function (rules) {\n  this.prototype.specs = new TxParams.Specs(rules);\n};\n\nTxParams.setAction = function (name, rules) {\n  const action = new TxParams.Action(rules);\n\n  this.prototype[name] = function (params) {\n    return action.transaction(this, params);\n  };\n};\n\nTxParams.setFormat = function (name, rules) {\n  this.formats[name] = new TxParams.Format(rules);\n};\n/* Helpers */\n\n\nfunction sync(value, callback) {\n  if (type(value) === \"promise\") {\n    return value.then(x => callback(x));\n  } else {\n    return callback(value);\n  }\n}\n/* Export */\n\n\nTxParams.Action = require(\"./tx-action\");\nTxParams.Format = require(\"./tx-format\");\nTxParams.Specs = require(\"./tx-specs\");\nmodule.exports = TxParams;","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","\"use strict\";\n/**\n * Arguments parsing utility.\n *\n * @exports forArgs\n */\n\nconst {\n  call\n} = require(\"@kisbox/helpers\");\n\nconst type = require(\"./type\");\n\nconst {\n  shift\n} = call(Array);\n/* Definition */\n\n/* Destructure **args** after **signature** and loop over handler.\n *\n * Possible args definitions.\n *\n */\n\nfunction forArgs(formals, actuals, handler, current = []) {\n  // if (formals) self-call(loop)\n  // else applyHandler(current)\n  if (formals.length) {\n    const instruction = formals.shift();\n    const loop = forArgs[instruction];\n\n    if (!loop) {\n      throw new Error(\"Invalid 'forArgs' instruction: \".concat(formals[0]));\n    }\n\n    loop(formals, actuals, handler, current);\n  } else {\n    handler.apply(this, current);\n  }\n}\n/* Primitives */\n\n/* Consumes a value */\n\n\nforArgs[\"value\"] = function (formals, actuals, handler, current) {\n  const next = shift(actuals);\n  current.push(next);\n  forArgs(formals, actuals, handler, current);\n};\n/* Consumes values */\n\n\nforArgs[\"values\"] = function (formals, actuals, handler, current) {\n  const next = shift(actuals);\n  const index = current.length;\n  next.forEach(value => {\n    current[index] = value;\n    forArgs(formals, actuals, handler, current);\n  });\n};\n\nforArgs[\"keys:value\"] = function (formals, actuals, handler, current) {\n  const next = shift(actuals);\n  const index = current.length;\n\n  if (type(next) === \"object\") {\n    Object.entries(next).forEach(([key, value]) => {\n      current[index] = key;\n      current[index + 1] = value;\n      forArgs(formals, actuals, handler, current);\n    });\n  } else {\n    typeError(\"keys:value\", next);\n  }\n};\n/* Compound */\n\n/* Consumes an atom or an array of atoms. */\n\n\nforArgs[\"atoms\"] = function (formals, actuals, handler, current) {\n  const next = actuals[0];\n\n  if (type.isAtom(next)) {\n    // atom => \"value\"\n    forArgs[\"value\"](formals, actuals, handler, current);\n  } else if (type.isArrayLike(next)) {\n    // atoms => \"values\"\n    forArgs[\"values\"](formals, actuals, handler, current);\n  } else {\n    typeError(\"atoms\", next);\n  }\n};\n/* Consumes a key/atom pairs */\n\n\nforArgs[\"keys:atom\"] = function (formals, actuals, handler, current) {\n  const next = actuals[0];\n\n  if (type.isAtom(next)) {\n    // key, atom => \"value\", \"value\"\n    formals.unshift(\"value\");\n    forArgs[\"value\"](formals, actuals, handler, current);\n  } else if (type.isArrayLike(next)) {\n    // ...keys, atom => \"values\", \"value\"\n    formals.unshift(\"value\");\n    forArgs[\"values\"](formals, actuals, handler, current);\n  } else if (type(next) === \"object\") {\n    // { ...key: atom } => \"keys:value\"\n    forArgs[\"keys:value\"](formals, actuals, handler, current);\n  } else {\n    typeError(\"keys:atom\", next);\n  }\n};\n/* Helpers */\n\n\nfunction typeError(type, argument) {\n  throw new Error(\"Argument is not of expected type '\".concat(type, \"': \").concat(argument));\n}\n/* Export */\n\n\nmodule.exports = forArgs;","\"use strict\";\n/**\n * Constructor-related helpers\n *\n * @exports constructor\n */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nconst my = module.exports;\n\nconst {\n  decontextualize\n} = require(\"./prototype\");\n\nconst {\n  $memoizer\n} = require(\"./meta\");\n/**\n * Transmet les méthodes décontextualisée au constructeur, et les retourne.\n * @deprecated\n */\n\n\nmy.generalize = function (constructor) {\n  const root = decontextualize(constructor.prototype);\n  Object.assign(constructor, root);\n  return root;\n};\n/**\n * Une fonction qui retourne un SuperScope contenant les méthodes\n * dé-contextualisées du prototype d'un constructeur.\n *\n * @example\n * call(Array).map([2, 3], x => x * 2) // => [4, 6]\n *\n * @todo Move it to utils?\n */\n\n\nmy.call = $memoizer(\"/call/\", constructor => {\n  return decontextualize(constructor.prototype);\n});","\"use strict\";\n/**\n * Informations and helpers related to the contextual environment.\n *\n * @exports environment\n */\n\nconst my = exports;\n/**\n * `true` if we are running in a browser, `false` otherwise.\n *\n * @member {Boolean}\n */\n\nmy.isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\n/**\n * `true` if we are running in Node.js, `false` otherwise.\n *\n * @member {Boolean}\n */\n\nmy.isNode = typeof process !== \"undefined\" && process.versions && !!process.versions.node;\n/**\n * `true` if the current page is embedded (in a browser window), `false`\n * otherwise.\n *\n * @member {Boolean}\n */\n\nmy.isEmbedded = my.isBrowser && window.self !== window.top;\n/**\n * This require only takes effect in Node.js environment, and is ignored by\n * code bundlers. This is meant to prevent bundling of dependencies that are not\n * relevant to browser environments.\n *\n * @function\n * @param {String} path - A path to the file to load, same as Node.js `require`.\n */\n\nmy.nodeRequire = my.isBrowser ? () => {} : eval(\"require\");","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\n/**\n * Error-related helpers\n *\n * @exports my.error\n **/\n\nconst my = exports;\n/* Executes **thunk** and redirects errors to `console.error`.\n *\n * @param {Function} thunk - A function that takes no argument.\n */\n\nmy.noThrow = function (thunk) {\n  try {\n    return thunk();\n  } catch (error) {\n    console.error(error);\n    return error;\n  }\n};\n/* Executes **thunk** and ignore errors.\n *\n * @param {Function} thunk - A function that takes no argument.\n */\n\n\nmy.noError = function (thunk) {\n  try {\n    return thunk();\n  } catch (error) {\n    null;\n  }\n};","\"use strict\";\n/**\n * Promise-related helpers\n *\n * @exports promise\n */\n\nconst my = exports;\n/**\n * Return a promise that takes `x` milliseconds to resolve.\n *\n * @async\n * @param {Number} delay - Delay, in milliseconds.\n */\n\nmy.timeout = function (delay) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n};","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","\"use strict\";\n/**\n * TxRequest.Format\n */\n\nconst TxAction = require(\"./tx-action\");\n/* Definition */\n\n\nclass TxFormat {\n  constructor(params) {\n    if (params.encode) {\n      this.encode = new TxAction(params.encode);\n    }\n\n    if (params.decode) {\n      this.decode = new TxAction(params.decode);\n    }\n  }\n\n}\n/* Export */\n\n\nmodule.exports = TxFormat;","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","\"use strict\";\n/**\n * Protocol 12 specifications.\n */\n\nconst TxSpecs = require(\"../model/tx-specs\");\n/* Specs */\n\n\nconst specs = new TxSpecs();\nspecs.tx = {\n  mandatory: [\"operations\"],\n  optional: [\"network\", \"horizon\", \"callback\", \"memo\", \"source\", \"sequence\", \"minTime\", \"maxTime\", \"fee\"]\n};\nspecs.op = {};\nspecs.op.accountMerge = {\n  mandatory: [\"destination\"],\n  optional: [\"source\"]\n};\nspecs.op.allowTrust = {\n  mandatory: [\"authorize\", \"assetCode\", \"trustor\"],\n  optional: [\"source\"]\n};\nspecs.op.bumpSequence = {\n  mandatory: [\"bumpTo\"],\n  optional: [\"source\"]\n};\nspecs.op.changeTrust = {\n  mandatory: [\"asset\"],\n  optional: [\"source\", \"limit\"]\n};\nspecs.op.createAccount = {\n  mandatory: [\"destination\", \"startingBalance\"],\n  optional: [\"source\"]\n};\nspecs.op.createPassiveSellOffer = {\n  mandatory: [\"selling\", \"buying\", \"amount\", \"price\"],\n  optional: [\"source\"]\n};\nspecs.op.manageData = {\n  mandatory: [\"name\", \"value\"],\n  optional: [\"source\"]\n};\nspecs.op.manageBuyOffer = {\n  mandatory: [\"selling\", \"buying\", \"buyAmount\", \"price\"],\n  optional: [\"source\", \"offerId\"]\n};\nspecs.op.manageSellOffer = {\n  mandatory: [\"selling\", \"buying\", \"amount\", \"price\"],\n  optional: [\"source\", \"offerId\"]\n};\nspecs.op.pathPaymentStrictReceive = {\n  mandatory: [\"sendAsset\", \"sendMax\", \"destination\", \"destAsset\", \"destAmount\"],\n  optional: [\"source\", \"path\"]\n};\nspecs.op.pathPaymentStrictSend = {\n  mandatory: [\"sendAsset\", \"sendAmount\", \"destination\", \"destAsset\", \"destMin\"],\n  optional: [\"source\", \"path\"]\n};\nspecs.op.payment = {\n  mandatory: [\"asset\", \"destination\", \"amount\"],\n  optional: [\"source\"]\n};\nspecs.op.setOptions = {\n  mandatory: [],\n  optional: [\"source\", \"clearFlags\", \"setFlags\", \"masterWeight\", \"lowThreshold\", \"medThreshold\", \"highThreshold\", \"signer\", \"homeDomain\"]\n};\n/* Field types */\n\nspecs.type = {\n  amount: \"amount\",\n  asset: \"asset\",\n  assetCode: \"string\",\n  assetIssuer: \"address\",\n  authorize: \"authorizeFlag\",\n  bumpTo: \"sequence\",\n  buyAmount: \"amount\",\n  buying: \"asset\",\n  callback: \"url\",\n  clearFlags: \"flags\",\n  destAsset: \"asset\",\n  destAmount: \"amount\",\n  destMin: \"amount\",\n  destination: \"address\",\n  fee: \"fee\",\n  highThreshold: \"threshold\",\n  homeDomain: \"string\",\n  horizon: \"url\",\n  limit: \"amount\",\n  lowThreshold: \"threshold\",\n  masterWeight: \"weight\",\n  maxTime: \"date\",\n  medThreshold: \"threshold\",\n  memo: \"memo\",\n  memoBinary: \"hash\",\n  memoHash: \"hash\",\n  memoId: \"id\",\n  memoReturn: \"hash\",\n  memoText: \"string\",\n  memoType: \"string\",\n  minTime: \"date\",\n  network: \"network\",\n  offerId: \"string\",\n  operations: \"operations\",\n  price: \"price\",\n  name: \"string\",\n  path: \"assetPath\",\n  selling: \"asset\",\n  sendAmount: \"amount\",\n  sendAsset: \"asset\",\n  sendMax: \"amount\",\n  sequence: \"sequence\",\n  setFlags: \"flags\",\n  signer: \"signer\",\n  signerHash: \"hash\",\n  signerKey: \"address\",\n  signerType: \"string\",\n  signerTx: \"id\",\n  signerWeight: \"weight\",\n  source: \"address\",\n  startingBalance: \"amount\",\n  trustor: \"address\",\n  value: \"buffer\"\n};\n/* Pubkey */\n\nspecs.pubkey = {\n  neutral: \"GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWHF\"\n};\n/* Export */\n\nmodule.exports = specs;","\"use strict\";\n/**\n * Check TxParams\n */\n\nrequire(\"core-js/modules/es.string.match\");\n\nconst {\n  shorter,\n  isBase64,\n  isUtf8\n} = require(\"@cosmic-plus/helpers\");\n\nconst $status = require(\"../lib/status\");\n/* Constants */\n\n\nconst AUTHORIZE_FLAG_MAX = 2;\nconst FEE_MAX = Math.pow(2, 32);\nconst FLAGS_MAX = 7;\nconst WEIGHT_MAX = 255;\nconst PUBKEY_REGEXP = /^G[A-D][A-Z0-9]{54}$/;\nconst FEDERATED_REGEXP = /^[^*]+\\*([\\w-]+\\.)+[\\w]{2,}$/;\nconst HASH_REGEXP = /^[0-9a-f]{64}$/;\n/* Definition */\n\nconst check = {};\n/* Rules: transaction */\n\ncheck.txBefore = function (tx) {\n  if ($status(tx).state) {\n    throw new Error(\"Invalid transaction\", tx);\n  }\n\n  if (tx.operations.length > 100) {\n    error(tx, \"Too much operations (max: 100)\");\n  }\n};\n\ncheck.txAfter = function (tx) {\n  if ($status(tx).messages.length) {\n    throw $status(tx).fail(\"Invalid transaction\");\n  }\n};\n/* Rules: operations */\n\n\ncheck.opBefore = function (op, ctx) {\n  // TODO: should work without `ctx`.\n  if (!ctx.specs.isOpType(op.type)) {\n    error(ctx, \"Unknown operation: \".concat(op.type));\n  }\n\n  ctx.specs.opMandatoryFields(op.type).forEach(field => {\n    if (!(field in op)) {\n      error(ctx, \"Missing parameter for '\".concat(op.type, \"': \").concat(field));\n    }\n  });\n\n  for (let field in op) {\n    if (field === \"type\") continue;\n\n    if (!ctx.specs.isOpField(op.type, field)) {\n      error(ctx, \"Invalid parameter for '\".concat(op.type, \"': \").concat(field));\n    }\n  }\n};\n/* Rules: fields */\n\n\ncheck.amount = function (amount, ctx) {\n  return checkNumber(ctx, amount, \"amount\", 0) || amount;\n};\n\ncheck.address = function (address, ctx) {\n  if (!address.match(PUBKEY_REGEXP) && !address.match(FEDERATED_REGEXP)) {\n    const short = shorter(address);\n    return error(ctx, \"Invalid address: \".concat(short));\n  }\n\n  return address;\n};\n\ncheck.asset = function (asset, ctx) {\n  if (!asset.code) {\n    return error(ctx, \"Missing asset code\");\n  }\n\n  if (asset.code.length > 14) {\n    return error(ctx, \"Asset code is too long (max 14 chars): \".concat(asset.code));\n  }\n\n  if (!asset.issuer) {\n    const code = asset.code.toLowerCase();\n\n    if (code !== \"xlm\" && code !== \"native\") {\n      return error(ctx, \"Missing issuer for asset: \".concat(code));\n    }\n  }\n\n  return asset;\n};\n\ncheck.assetPath = function (assetPath, ctx) {\n  return assetPath.map(asset => check.asset(asset, ctx));\n};\n\ncheck.authorizeFlag = function (flag, ctx) {\n  return checkInteger(ctx, flag, \"authorize flag\", 0, AUTHORIZE_FLAG_MAX) || flag;\n};\n\ncheck.boolean = function (boolean, ctx) {\n  if (typeof boolean !== \"boolean\") {\n    return error(ctx, \"Not a boolean: \".concat(boolean));\n  }\n\n  return boolean;\n};\n\ncheck.buffer = function (buffer, ctx) {\n  // TODO: check length.\n  switch (buffer.type) {\n    case \"text\":\n      return checkUtf8(ctx, buffer.value) || buffer;\n\n    case \"base64\":\n      return checkBase64(ctx, buffer.value) || buffer;\n\n    default:\n      return error(ctx, \"Invalid buffer type: \".concat(buffer.type));\n  }\n};\n\ncheck.date = function (date, ctx) {\n  if (isNaN(Date.parse(date))) {\n    return error(ctx, \"Invalid date: \".concat(date));\n  } else {\n    return date;\n  }\n};\n\ncheck.fee = function (fee, ctx) {\n  return checkInteger(ctx, fee, \"fees\", 0, FEE_MAX) || fee;\n};\n\ncheck.flags = function (flags, ctx) {\n  return checkInteger(ctx, flags, \"flags\", 0, FLAGS_MAX) || flags;\n}; // TODO: review (buggy)\n\n\ncheck.memo = function (memo, ctx) {\n  switch (memo.type) {\n    case \"text\":\n      return checkUtf8(ctx, memo.value) || memo;\n\n    case \"base64\":\n      return checkBase64(ctx, memo.value) || memo;\n\n    case \"hash\":\n    case \"return\":\n      return checkHash(ctx, memo.value) || memo;\n\n    case \"id\":\n      return checkId(ctx, memo.value) || memo;\n\n    default:\n      return error(ctx, \"Invalid memo type: \".concat(memo.type));\n  }\n};\n\ncheck.price = function (price, ctx) {\n  if (typeof price === \"object\") {\n    try {\n      checkNumber(ctx, price.n, null, 0);\n      checkNumber(ctx, price.d, null, 0);\n    } catch (error) {\n      return error(ctx, \"Invalid price: \".concat(JSON.stringify(price)));\n    }\n  } else {\n    checkNumber(ctx, price, \"price\", 0);\n  }\n\n  return price;\n};\n\ncheck.signer = function (signer, ctx) {\n  const output = {};\n  output.weight = check.weight(signer.weight, ctx);\n  output.type = signer.type;\n\n  switch (signer.type) {\n    case \"key\":\n      output.value = check.address(signer.value, ctx);\n      break;\n\n    case \"hash\":\n    case \"tx\":\n      output.value = checkHash(ctx, signer.value) || signer.value;\n      break;\n\n    default:\n      return error(\"Invalid signer type: \".concat(signer.type));\n  }\n\n  return output;\n};\n\ncheck.sequence = function (sequence, ctx) {\n  return checkInteger(ctx, Number(sequence), \"sequence\", 0) || sequence;\n};\n\ncheck.threshold = function (threshold, ctx) {\n  return checkInteger(ctx, threshold, \"threshold\", 0, WEIGHT_MAX) || threshold;\n};\n\ncheck.weight = function (weight, ctx) {\n  return checkInteger(ctx, weight, \"weight\", 0, WEIGHT_MAX) || weight;\n};\n/* Helpers */\n// TODO: move to `TxAction` ?\n\n\nfunction error(ctx, message) {\n  if (ctx) {\n    return $status(ctx).error(message);\n  } else {\n    throw new Error(message);\n  }\n}\n\nfunction checkInteger(ctx, value, type, min, max) {\n  if (parseInt(value) + \"\" !== value + \"\") {\n    return error(ctx, \"Invalid \".concat(type, \" (should be an integer): \").concat(value));\n  }\n\n  return checkNumber(ctx, value, type, min, max);\n} // TODO: Fix no max issue\n\n\nfunction checkNumber(ctx, value, type, min, max) {\n  const num = +value;\n\n  if (isNaN(num)) {\n    return error(ctx, \"Invalid \".concat(type, \" (should be a number): \").concat(value));\n  } else if (min && num < min || max && num > max) {\n    return error(ctx, \"Invalid \".concat(type, \" (should be between \").concat(min, \" and \").concat(max, \"): \").concat(value));\n  }\n}\n\nfunction checkUtf8(ctx, value) {\n  if (typeof value !== \"string\" || !isUtf8(value)) {\n    return error(ctx, \"Invalid UTF8 string: \".concat(value));\n  }\n}\n\nfunction checkBase64(ctx, value) {\n  if (typeof value !== \"string\" || !isBase64(value)) {\n    return error(ctx, \"Invalid base64 string: \".concat(value));\n  }\n}\n\nfunction checkHash(ctx, hash) {\n  if (!hash.match(HASH_REGEXP)) {\n    return error(ctx, \"Invalid hash: \".concat(hash));\n  }\n}\n\nfunction checkId(ctx, id) {\n  if (!id.match(/^[0-9]*$/)) {\n    return error(ctx, \"Invalid id: \".concat(id));\n  }\n}\n/* Export */\n\n\nmodule.exports = check;","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","\"use function\";\n/**\n * Date helpers\n */\n\nrequire(\"core-js/modules/es.string.replace\");\n\nconst my = exports;\n/* Library */\n\n/**\n * Return the YYYY-MM-DD date for **time** or for today if **time** is not\n * provided.\n *\n * @param {String|Number} [time] A valid date/timestamp value\n * @return {String} YYYY-MM-DD date\n */\n\nmy.day = function (time) {\n  const date = time ? new Date(time) : new Date();\n  return date.toISOString().replace(/T.*/, \"\");\n};","\"use strict\";\n/**\n * String helpers\n */\n\nrequire(\"core-js/modules/es.string.match\");\n\nconst my = exports;\n/* Library */\n\n/**\n * Return `string` with first letter capitalized.\n *\n * @param {String} string\n * @return {String}\n */\n\nmy.capitalize = function (string) {\n  return string.substr(0, 1).toUpperCase() + string.slice(1);\n};\n/**\n * Returns a shortified **string** if it is longer than **max** characters; else\n * return **string**.\n *\n * @param {String} string\n * @param {Number} [max=50] - The maximum length for **string**.\n * @return {String}\n */\n\n\nmy.shorter = function (string, max = 50) {\n  if (string.length > max) {\n    return \"\".concat(string.substr(0, 5), \"...\").concat(string.substr(-5));\n  } else {\n    return string;\n  }\n};\n/**\n * Test if **string** is made of printable UTF8 characters. This is a simplified\n * test that has a small probability to return false positive.\n *\n * @param {String}\n * @return {Boolean}\n */\n\n\nmy.isUtf8 = function (string) {\n  // eslint-disable-next-line no-control-regex\n  return !string.match(/[\\0-\\x1F\\x7F-\\x9F\\xAD\\uD7FC-\\uF8FF]/);\n};\n/**\n * Test if **string** made of base64 characters.\n *s\n * @param  {String} string\n * @return {Boolean}\n */\n\n\nmy.isBase64 = function (string) {\n  return !!string.match(/^[0-9a-zA-Z+/]*=*$/);\n};","\"use strict\";\n/**\n * Normalize TxParams\n */\n\n/* Definition */\n\nrequire(\"core-js/modules/es.string.match\");\n\nrequire(\"core-js/modules/es.string.replace\");\n\nconst normalize = {};\n/* Rules: transaction */\n\nnormalize.txBefore = function (tx) {\n  removeEmptyFields(tx);\n};\n\nnormalize.txAfter = function (tx) {\n  if (!tx.operations) tx.operations = []; // TODO: move to deconstruct.\n\n  const minFee = String(100 * tx.operations.length);\n  if (tx.fee === minFee) delete tx.fee;\n\n  if (tx.network === \"public\" || tx.network === \"test\") {\n    delete tx.horizon;\n  } // TODO: else, tx.horizon = TxParams.resolve.horizon(tx.network)\n\n\n  tx.check();\n};\n/* Rules: operations */\n\n\nnormalize.opBefore = function (op) {\n  removeEmptyFields(op);\n\n  switch (op.type) {\n    case \"createPassiveOffer\":\n      op.type = \"createPassiveSellOffer\";\n      break;\n\n    case \"manageOffer\":\n      op.type = \"manageSellOffer\";\n      break;\n\n    case \"pathPayment\":\n      op.type = \"pathPaymentStrictReceive\";\n      break;\n  }\n};\n\nnormalize.opAfter = function (op, tx) {\n  const XLM = {\n    code: \"XLM\"\n  };\n  const neutralAsset = {\n    code: \"XLM\",\n    issuer: tx.specs.pubkey.neutral\n  }; // No limit = maximum limit.\n\n  if (op.limit === \"922337203685.4775807\") delete op.limit; // New offer.\n\n  if (op.offerId === \"0\") delete op.offerId; // Empty asset conversion path.\n\n  if (op.path && !op.path.length) delete op.path; // Useless denominator.\n\n  if (op.price && op.price.d === 1) op.price = op.price.n;\n\n  switch (op.type) {\n    case \"allowTrust\":\n      // Allow trust by default. (CosmicLink backward compatibility)\n      if (op.authorize === undefined) op.authorize = 1;\n      break;\n\n    case \"createPassiveSellOffer\":\n    case \"manageBuyOffer\":\n    case \"manageSellOffer\":\n      // Syntactic sugar for offer deletion\n      if (op.offerId && (op.amount === \"0\" || op.buyAmount === \"0\")) {\n        if (!op.buying && !op.selling) op.buying = neutralAsset;\n        if (!op.price) op.price = \"1\";\n      } // XLM as default asset.\n\n\n      if (op.buying && !op.selling) op.selling = XLM;\n      if (op.selling && !op.buying) op.buying = XLM;\n      break;\n\n    case \"manageData\":\n      // Delete data entry.\n      if (!op.value) op.value = {\n        type: \"text\",\n        value: \"\"\n      };\n      break;\n\n    case \"pathPaymentStrictReceive\":\n    case \"pathPaymentStrictSend\":\n      // XLM as default asset.\n      if (op.destAsset && !op.sendAsset) op.sendAsset = XLM;\n      if (op.sendAsset && !op.destAsset) op.destAsset = XLM;\n      break;\n\n    case \"payment\":\n      // XLM as default asset.\n      if (!op.asset) op.asset = XLM;\n      break;\n  }\n};\n/* Rules: fields */\n\n\nnormalize.amount = function (amount) {\n  return String(amount);\n};\n\nnormalize.authorizeFlag = function (flag) {\n  // Backward compatibility (protocol =< 12)\n  if (flag === false) {\n    return 0;\n  } else if (flag === true) {\n    return 1;\n  } else {\n    return flag;\n  }\n};\n\nnormalize.date = function (date) {\n  // Syntactic sugar: \"+{mins}\".\n  if (date.match(/^\\+[0-9]+$/)) {\n    const shifted = new Date();\n    shifted.setMinutes(shifted.getMinutes() + +date.substr(1));\n    date = shifted.toISOString().replace(/\\.[0-9]{3}/, \"\");\n  } // Strip superfluous data.\n\n\n  return date.replace(/:00\\.000/, \"\").replace(/\\.000/, \"\").replace(/T00:00Z/, \"\");\n};\n\nnormalize.memo = function (memo) {\n  if (typeof memo === \"string\") {\n    return {\n      type: \"text\",\n      value: memo\n    };\n  } else {\n    return memo;\n  }\n};\n\nnormalize.url = function (url) {\n  return url.substr(0, 4) === \"http\" ? url : \"https://\" + url;\n};\n\nnormalize.weight = function (amount) {\n  return String(amount);\n};\n/* Helpers */\n\n\nfunction removeEmptyFields(object) {\n  for (let field in object) {\n    if (object[field] == null) {\n      delete object[field];\n    }\n  }\n}\n/* Export */\n\n\nmodule.exports = normalize;","\"use strict\";\n/**\n * Parse TxParams\n *\n * This is the parser for parameters passed as JavaScript object. Parameters may\n * be encoded in one of three forms:\n *\n * 1. The normal TxParams form.\n * 2. The query form.\n * 3. The StellarSdk form.\n *\n * This action dispatch the data to the right decoder & turns everything into\n * the normalized TxParams form.\n */\n\nrequire(\"core-js/modules/es.string.match\");\n\nconst {\n  type\n} = require(\"@kisbox/utils\");\n\nconst transaction = require(\"../format/transaction\");\n\nconst query = require(\"../format/query\");\n/* Definition */\n\n\nconst parse = {};\n/* Rules: transaction */\n\nparse.txAfter = function (tx) {\n  tx.normalize();\n};\n/* Rules: operations */\n\n/* Rules: fields */\n\n\nparse.asset = function (asset) {\n  if (typeof asset === \"string\") {\n    return query.decode.asset(asset);\n  } else {\n    return asset;\n  }\n};\n\nparse.assetPath = function (assetPath) {\n  if (typeof assetPath === \"string\") {\n    return query.decode.assetPath(assetPath);\n  } else if (Array.isArray(assetPath)) {\n    return assetPath.map(asset => parse.asset(asset));\n  }\n};\n\nparse.buffer = function (buffer) {\n  if (!buffer) {\n    return {\n      type: \"text\",\n      value: \"\"\n    };\n  } else if (buffer instanceof Buffer) {\n    return transaction.decode.buffer(buffer);\n  } else if (typeof buffer === \"string\") {\n    return query.decode.buffer(buffer);\n  } else {\n    return buffer;\n  }\n};\n\nparse.date = function (date) {\n  if (type(date) === \"date\") {\n    return date.toISOString();\n  } else if (typeof date === \"number\") {\n    date = String(date);\n  }\n\n  if (date.match(/^[0-9]*$/ && date.length > 4)) {\n    // Timestamp\n    return transaction.decode.date(date);\n  } else {\n    // ISO Date or `+x`\n    return query.decode.date(date);\n  }\n};\n\nparse.memo = function (memo) {\n  if (typeof memo === \"string\") {\n    return query.decode.memo(memo);\n  } else if (memo._type && memo._value) {\n    return transaction.decode.memo(memo);\n  } else {\n    return memo;\n  }\n};\n\nparse.price = function (price) {\n  if (typeof price === \"string\" && price.match(/:/)) {\n    return query.decode.price(price);\n  } else {\n    return price;\n  }\n};\n\nparse.signer = function (signer) {\n  if (typeof signer === \"string\") {\n    return query.decode.signer(signer);\n  } else {\n    return signer;\n  }\n};\n\nparse.string = function (string) {\n  if (typeof string === \"number\") {\n    return String(string);\n  } else {\n    return string;\n  }\n};\n/* Export */\n\n\nmodule.exports = parse;","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","\"use strict\";\n/**\n * Parameters\n * */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nrequire(\"core-js/modules/es.string.split\");\n\nconst {\n  LiveObject\n} = require(\"@kisbox/model\");\n\nconst {\n  xassoc\n} = require(\"@kisbox/helpers\");\n/* Definition */\n\n\nclass Parameters extends LiveObject {}\n\nconst proto = Parameters.prototype;\n/* Utility */\n\nParameters.forEach = function (query, callback) {\n  if (query[0] !== \"?\") throw new TypeError(\"Not a query: \".concat(query));\n  query.substr(1).split(\"&\").forEach(entry => {\n    const key = entry.split(\"=\")[0];\n    const value = entry.substr(key.length + 1);\n    callback(decodeURIComponent(value), key);\n  });\n};\n/* Format: Query */\n\n\nParameters.fromQuery = function (query) {\n  const params = new Parameters();\n  Parameters.forEach(query, (value, key) => {\n    params[key] = value;\n  });\n  return params;\n};\n\nproto.toQuery = function (prefix = \"?\") {\n  let query = \"\";\n  xassoc(this, (value, key) => {\n    query += \"&\".concat(key, \"=\").concat(encodeURIComponent(value));\n  });\n  return \"\".concat(prefix).concat(query.substr(1));\n};\n/* Format: Json */\n\n\nParameters.fromJson = function (json) {\n  return Object.assign(new Parameters(), JSON.parse(json));\n};\n\nproto.toJson = function () {\n  return JSON.stringify(this, null, 2);\n};\n/* Export */\n\n\nmodule.exports = Parameters;","\"use strict\";\n\nmodule.exports = {\n  Observable: require(\"./observable\"),\n  LiveObject: require(\"./live-object\"),\n  LiveArray: require(\"./live-array\")\n};","\"use strict\";\n/**\n * Methods that allow to spread an object changes toward another.\n */\n\nrequire(\"core-js/modules/es.object.assign\");\n\nconst {\n  forArgs,\n  type\n} = require(\"@kisbox/utils\");\n\nconst {\n  call,\n  isInstance,\n  noThrow\n} = require(\"@kisbox/helpers\");\n\nconst Observable = require(\"./observable\");\n\nconst $events = require(\"./lib/events\");\n\nconst $traps = require(\"./lib/traps\");\n/* Definition */\n\n\nclass LiveObject extends Observable {\n  /* link/import/export/pick */\n  $link(target, keys) {\n    if (!target) return;\n    safe.$pick(this, target, keys);\n    safe.$export(this, target, keys);\n    safe.$export(target, this, keys);\n  }\n\n  $export(target, keys, transformer) {\n    if (!target) return;\n    forArgs([\"value\", \"atoms\"], arguments, (target, key) => {\n      safe.$push(this, key, target, key, transformer);\n    });\n  }\n\n  $import(target, keys, transformer) {\n    if (!target) return;\n    forArgs([\"value\", \"atoms\"], arguments, (target, key) => {\n      if (target[key] !== undefined) {\n        safe.$pull(this, key, target, key, transformer);\n      }\n    });\n  }\n\n  $pick(target, keys, transformer) {\n    if (!target) return;\n    forArgs([\"value\", \"atoms\"], arguments, (target, key) => {\n      if (key in target) {\n        const value = target[key];\n        this[key] = transformer ? transformer(value) : value;\n      }\n    });\n  }\n  /* pull/push */\n\n\n  $pull(key, target, targetKey = key, transformer) {\n    if (typeof target.$push === \"function\") {\n      target.$push(targetKey, this, key, transformer);\n    } else {\n      if (targetKey in target) {\n        const value = target[targetKey];\n        this[key] = transformer ? transformer(value) : value;\n      }\n    }\n  }\n\n  $push(key, target, targetKey = key, transformer) {\n    const callback = transformer ? () => target[targetKey] = transformer(this[key]) : () => target[targetKey] = this[key];\n\n    if (target !== this && typeof target.$listen === \"function\") {\n      target.$listen(this, key, callback);\n    } else {\n      safe.$on(this, key, callback);\n    }\n\n    if (key in this) callback();\n  }\n  /* $define, $compute, $set */\n\n\n  $define(key, depends, definition) {\n    setupDefinition(this, key, depends, definition, \"safe\");\n  }\n\n  $customDefine(key, depends, definition) {\n    setupDefinition(this, key, depends, definition);\n  }\n\n  $compute() {\n    // trap.outdate?\n    const events = $events.get(this);\n    if (!events) return;\n    forArgs([\"atoms\"], arguments, key => {\n      events.trigger(\"outdate:\".concat(key));\n    });\n  }\n\n  $set() {\n    forArgs([\"keys:atom\"], arguments, (key, value) => {\n      $traps.setValue(this, key, value);\n    });\n  }\n\n} // TODO: make it cleaner\n\n\nconst safe = call(LiveObject);\nObject.assign(safe, call(Observable));\n/* Helpers */\n\nfunction setupDefinition(target, key, depends, definition, safeFlag) {\n  const compute = function compute() {\n    this[key] = computeDefinition(this, depends, definition, safeFlag);\n  };\n\n  target.$on(depends, compute);\n  if (isInstance(target)) compute.call(target); // TODO: Plutôt utiliser `trap`\n\n  $events(target).put(\"outdate:\".concat(key), compute);\n}\n\nfunction computeDefinition(object, depends, definition, safeFlag) {\n  const state = definitionDependsState(object, depends);\n\n  if (state === undefined) {\n    return undefined;\n  } else if (safeFlag && state) {\n    return state;\n  } else {\n    return noThrow(() => definition.call(object, object));\n  }\n}\n\nfunction definitionDependsState(object, depends) {\n  let error, promise;\n\n  for (let key of depends) {\n    const value = object[key];\n\n    if (value === undefined) {\n      return;\n    } else if (!error) {\n      if (type(value) === \"error\") {\n        error = value;\n      } else if (!promise && type(value) === \"promise\") {\n        promise = new Promise(() => {});\n      }\n    }\n  }\n\n  return error || promise || null;\n}\n/* Export */\n// TODO: encapsulate Trapped\n\n\nmodule.exports = LiveObject;","\"use strict\";\n/**\n * Live Arrays\n *\n * Implementation details:\n *\n * In order to keep things efficient, the general idea is to use LiveObject\n * traps when a property is set (e.g.: liveArray[5] = \"foo\"), but to use\n * dedicated logic when the array is mutated using the usual methods (`push`,\n * `pop`, `shift`, `unshift` and `splice`).\n */\n\nconst {\n  call,\n  hideLock\n} = require(\"@kisbox/helpers\");\n\nconst Observable = require(\"./observable\");\n\nconst $traps = require(\"./lib/traps\");\n\nconst $events = require(\"./lib/events\");\n/* Definition */\n\n\nclass LiveArray extends Array {\n  $forEach(callback) {\n    setupTraps(this);\n    this.$on(\"$add\", ([item, index], returned, type, context) => {\n      callback(item, index, context);\n    });\n    this.forEach(callback);\n  }\n\n  $forExit(callback) {\n    setupTraps(this);\n    this.$on(\"$remove\", ([item], returned, type, context) => {\n      callback(item, context);\n    });\n  }\n\n  $map(generator) {\n    // TODO: setup traps only for root liveArray (not mirrors)\n    const map = generator ? this.map(generator) : this.slice();\n    hideLock(map, \"generator\", generator);\n    map.$listen(this, [\"shift\", \"pop\"], propagateShiftOrPop.bind(map));\n    map.$listen(this, [\"unshift\", \"push\"], propagateUnshiftOrPush.bind(map));\n    map.$listen(this, [\"splice\"], propagateSplice.bind(map));\n    setupTraps(this);\n    let handler = generator ? (item, previous, index) => map[index] = generator(item) : (item, previous, index) => map[index] = item;\n    map.$listen(this, \"$set\", handler);\n    return map;\n  }\n\n  $sort(compare) {\n    const map = this.$map();\n    map.$on(\"$change\", $traps(map).sort(compare));\n    return map;\n  }\n  /**\n   * With LiveArrays, `.sort()` is non-destructive and returns a new object.\n   */\n\n\n  sort() {\n    const clone = this.slice();\n    call(Array).sort(clone);\n    return clone;\n  }\n  /* Events */\n\n\n  $add() {}\n\n  $remove() {}\n\n  $change() {}\n\n} // TODO: use safe.\n\n\nconst proto = LiveArray.prototype;\n/* Mixin */\n// TODO: Find a better way to put it.\n\nconst mixinMethods = [\"$trigger\", \"$on\", \"$off\", \"$listen\", \"$ignore\", \"$destroy\"];\nmixinMethods.forEach(key => proto[key] = Observable.prototype[key]);\n/* Trap-conscious wrappers */\n\nconst wrappedMethods = [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"];\n\nfunction methodWrapper(method) {\n  return function () {\n    if ($traps.isOn(this)) {\n      // Traps are set - apply the method to the wrapped array & update traps.\n      const trapped = $traps(this);\n      const returned = trapped[method].apply(trapped, arguments);\n      updateTraps(this);\n      return returned;\n    } else {\n      // Traps are not set - it's a normal array.\n      return Array.prototype[method].apply(this, arguments);\n    }\n  };\n}\n\nwrappedMethods.forEach(key => proto[key] = methodWrapper(key));\n/* Helpers: Setup Traps */\n\nfunction setupTraps(liveArray) {\n  if ($traps.isOn(liveArray)) return;\n  $traps.set(liveArray, []);\n  liveArray.forEach((_, key) => $traps.trapValue(liveArray, key));\n}\n\nfunction updateTraps(liveArray) {\n  // `trapped` contains the actual data - `liveArray` has the getter/setters.\n  const trapped = $traps(liveArray);\n  const diff = liveArray.length - trapped.length;\n\n  if (diff < 0) {\n    // Add traps.\n    for (let key = liveArray.length; key < trapped.length; key++) {\n      liveArray[key] = trapped[key]; // Required by `$trap.trapValue()`.\n\n      delete trapped[key]; // Required by `$trap.trapValue()`.\n\n      $traps.trapValue(liveArray, key);\n    }\n  } else if (diff > 0) {\n    // Remove traps.\n    for (let key = trapped.length; key < liveArray.length; key++) {\n      $events(liveArray).delete(key);\n    }\n\n    liveArray.length = trapped.length;\n  }\n}\n/* Helpers: Propagatate Actions */\n\n\nfunction propagateShiftOrPop(args, returned, method) {\n  this[method]();\n}\n\nfunction propagateUnshiftOrPush([item], returned, method) {\n  if (this.generator) item = this.generator(item);\n  this[method](item);\n}\n\nfunction propagateSplice([index, removed, ...added]) {\n  if (this.generator) added = added.map(this.generator);\n  this.splice(index, removed, ...added);\n}\n/* Notify Changes */\n\n\nproto.$on(\"$set\", function (item, previous, index) {\n  this.$add(item, index);\n  this.$remove(previous);\n});\nproto.$on([\"shift\", \"pop\"], function (args, returned) {\n  this.$remove(returned);\n});\nproto.$on(\"push\", function ([item]) {\n  this.$add(item, this.length - 1);\n});\nproto.$on(\"unshift\", function ([item]) {\n  this.$add(item, 0);\n});\nproto.$on(\"splice\", function (args, returned) {\n  const [index,, ...added] = args;\n\n  if (added.length) {\n    added.forEach((item, rindex) => {\n      this.$add(item, index + rindex);\n    });\n  }\n\n  if (returned.length) {\n    returned.forEach(item => {\n      this.$remove(item);\n    });\n  }\n});\nproto.$on([\"$set\", \"push\", \"pop\", \"shift\", \"unshift\", \"splice\"], function () {\n  this.$change();\n});\n/* Export */\n\nmodule.exports = LiveArray;","\"use strict\";\n/**\n * TxParams Format: JSON\n */\n\n/* Definition */\n\nconst encode = {},\n      decode = {};\n/* Rules: transaction */\n\nencode.transaction = function (tx) {\n  return JSON.stringify(tx, null, 2);\n};\n\ndecode.transaction = function (tx, json) {\n  const params = JSON.parse(json);\n  return new tx.constructor(params);\n};\n/* Export */\n\n\nmodule.exports = {\n  encode,\n  decode\n};"],"sourceRoot":""}