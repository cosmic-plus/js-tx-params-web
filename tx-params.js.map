{"version":3,"sources":["webpack://txParams/webpack/universalModuleDefinition","webpack://txParams/webpack/bootstrap","webpack://txParams/./node_modules/core-js/internals/global.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/index.js","webpack://txParams/./node_modules/core-js/internals/fails.js","webpack://txParams/./node_modules/@kisbox/utils/compat/index.js","webpack://txParams/./node_modules/core-js/internals/has.js","webpack://txParams/./node_modules/core-js/internals/an-object.js","webpack://txParams/./node_modules/core-js/internals/descriptors.js","webpack://txParams/./node_modules/core-js/internals/is-object.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/object.js","webpack://txParams/./node_modules/core-js/modules/es.string.replace.js","webpack://txParams/./node_modules/core-js/internals/require-object-coercible.js","webpack://txParams/./node_modules/core-js/internals/get-built-in.js","webpack://txParams/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://txParams/./node_modules/core-js/internals/to-integer.js","webpack://txParams/./node_modules/@kisbox/model/compat/lib/events.js","webpack://txParams/./node_modules/core-js/internals/to-indexed-object.js","webpack://txParams/./node_modules/core-js/internals/is-symbol.js","webpack://txParams/./node_modules/core-js/internals/well-known-symbol.js","webpack://txParams/./node_modules/core-js/internals/shared.js","webpack://txParams/./node_modules/core-js/internals/shared-store.js","webpack://txParams/./node_modules/core-js/internals/set-global.js","webpack://txParams/./node_modules/core-js/internals/object-define-property.js","webpack://txParams/./node_modules/core-js/internals/hidden-keys.js","webpack://txParams/./node_modules/core-js/internals/enum-bug-keys.js","webpack://txParams/./node_modules/core-js/internals/regexp-exec.js","webpack://txParams/./node_modules/core-js/internals/to-string.js","webpack://txParams/./node_modules/@kisbox/model/compat/observable.js","webpack://txParams/./node_modules/@kisbox/model/compat/lib/traps.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/any.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/prototype.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/meta.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/property.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/function.js","webpack://txParams/./es5/model/tx-action.js","webpack://txParams/./es5/model/tx-specs.js","webpack://txParams/./node_modules/@cosmic-plus/helpers/es5/index.js","webpack://txParams/(webpack)/buildin/global.js","webpack://txParams/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://txParams/./node_modules/core-js/internals/create-property-descriptor.js","webpack://txParams/./node_modules/core-js/internals/classof-raw.js","webpack://txParams/./node_modules/core-js/internals/to-property-key.js","webpack://txParams/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://txParams/./node_modules/core-js/internals/native-symbol.js","webpack://txParams/./node_modules/core-js/internals/to-object.js","webpack://txParams/./node_modules/core-js/internals/uid.js","webpack://txParams/./node_modules/core-js/internals/ie8-dom-define.js","webpack://txParams/./node_modules/core-js/internals/document-create-element.js","webpack://txParams/./node_modules/core-js/internals/redefine.js","webpack://txParams/./node_modules/core-js/internals/inspect-source.js","webpack://txParams/./node_modules/core-js/internals/internal-state.js","webpack://txParams/./node_modules/core-js/internals/shared-key.js","webpack://txParams/./node_modules/core-js/internals/object-keys-internal.js","webpack://txParams/./node_modules/core-js/internals/to-length.js","webpack://txParams/./es5/lib/status.js","webpack://txParams/./es5/format/transaction.js","webpack://txParams/./es5/format/query.js","webpack://txParams/./es5/index.js","webpack://txParams/./es5/model/tx-params.js","webpack://txParams/./node_modules/@kisbox/utils/compat/plan.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/array.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/constructor.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/environment.js","webpack://txParams/./node_modules/process/browser.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/error.js","webpack://txParams/./node_modules/@kisbox/helpers/compat/promise.js","webpack://txParams/./node_modules/@kisbox/utils/compat/type.js","webpack://txParams/./es5/model/tx-format.js","webpack://txParams/./es5/protocol/v15.js","webpack://txParams/./es5/action/check.js","webpack://txParams/./node_modules/@cosmic-plus/helpers/es5/date.js","webpack://txParams/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://txParams/./node_modules/core-js/modules/es.regexp.exec.js","webpack://txParams/./node_modules/core-js/internals/export.js","webpack://txParams/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://txParams/./node_modules/core-js/internals/indexed-object.js","webpack://txParams/./node_modules/core-js/internals/to-primitive.js","webpack://txParams/./node_modules/core-js/internals/engine-v8-version.js","webpack://txParams/./node_modules/core-js/internals/engine-user-agent.js","webpack://txParams/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://txParams/./node_modules/core-js/internals/is-pure.js","webpack://txParams/./node_modules/core-js/internals/native-weak-map.js","webpack://txParams/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://txParams/./node_modules/core-js/internals/own-keys.js","webpack://txParams/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://txParams/./node_modules/core-js/internals/array-includes.js","webpack://txParams/./node_modules/core-js/internals/to-absolute-index.js","webpack://txParams/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://txParams/./node_modules/core-js/internals/is-forced.js","webpack://txParams/./node_modules/core-js/internals/regexp-flags.js","webpack://txParams/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://txParams/./node_modules/core-js/internals/object-create.js","webpack://txParams/./node_modules/core-js/internals/object-define-properties.js","webpack://txParams/./node_modules/core-js/internals/object-keys.js","webpack://txParams/./node_modules/core-js/internals/html.js","webpack://txParams/./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://txParams/./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://txParams/./node_modules/core-js/internals/advance-string-index.js","webpack://txParams/./node_modules/core-js/internals/string-multibyte.js","webpack://txParams/./node_modules/core-js/internals/get-substitution.js","webpack://txParams/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://txParams/./node_modules/@cosmic-plus/helpers/es5/string.js","webpack://txParams/./es5/action/normalize.js","webpack://txParams/./es5/action/parse.js","webpack://txParams/./node_modules/buffer/index.js","webpack://txParams/./node_modules/base64-js/index.js","webpack://txParams/./node_modules/ieee754/index.js","webpack://txParams/./node_modules/isarray/index.js","webpack://txParams/./es5/lib/parameters.js","webpack://txParams/./node_modules/@kisbox/model/compat/index.js","webpack://txParams/./node_modules/@kisbox/model/compat/live-object.js","webpack://txParams/./node_modules/@kisbox/model/compat/live-array.js","webpack://txParams/./es5/format/json.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","it","Math","check","globalThis","self","global","this","Function","assign","exec","error","plan","type","toObject","hasOwn","isObject","TypeError","String","fails","my","wrap","properties","associate","keys","func","forEach","objectMap","fixRegExpWellKnownSymbolLogic","anObject","toInteger","toLength","toString","requireObjectCoercible","advanceStringIndex","getSubstitution","regExpExec","REPLACE","wellKnownSymbol","max","min","REPLACE_KEEPS_$0","replace","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","_","nativeReplace","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","undefined","string","rx","S","indexOf","res","done","functionalReplace","fullUnicode","unicode","lastIndex","results","result","push","accumulatedResult","nextSourcePosition","length","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","slice","re","a","aFunction","variable","namespace","method","arguments","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","f","ceil","floor","argument","isNaN","$util","noThrow","getPrototypeOf","$events","constructor","target","provider","clear","$change","reallyTrigger","handlers","put","handler","Set","add","delete","context","args","proto","inherited","trigger","IndexedObject","getBuiltIn","USE_SYMBOL_AS_UID","$Symbol","shared","has","uid","NATIVE_SYMBOL","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","IS_PURE","store","version","copyright","setGlobal","configurable","writable","IE8_DOM_DEFINE","toPropertyKey","$defineProperty","P","Attributes","re1","re2","regexpFlags","stickyHelpers","getInternalState","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeExec","RegExp","patchedExec","UPDATES_LAST_INDEX_WRONG","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","match","group","state","str","raw","sticky","flags","source","charsAdded","strCopy","multiline","charAt","input","isSymbol","xeach","keach","$traps","Observable","types","trapProperty","wrappedhandler","$off","$on","events","callback","event","safe","$sideScope","either","lock","setProperty","filter","guard","trapFunction","trapValue","wrapped","isTrapped","callFunction","returned","then","trapped","filtered","setValue","old","catch","console","resolved","isArrayLike","any","iterator","isAtom","Date","isInstance","decontextualize","methods","getOwnPropertyNames","wrapper","Array","shift","hide","$tag","symbol","set","isIn","isOn","$memoizer","generator","accessor","$sideClass","hideLock","params","delay","thunk","dispatch","rules","rule","value1","value2","entries","xmap","array","xassoc","tx","txBefore","iterate","txAfter","ops","map","op","opBefore","opAfter","output","field","specs","fieldType","mandatory","optional","opType","isTxMandatoryField","isTxOptionalField","includes","isOpMandatoryField","isOpOptionalField","g","e","propertyIsEnumerableModule","toIndexedObject","$getOwnPropertyDescriptor","getOwnPropertyDescriptor","bitmap","toPrimitive","sham","V8_VERSION","getOwnPropertySymbols","id","postfix","random","createElement","document","EXISTS","createNonEnumerableProperty","inspectSource","InternalStateModule","enforceInternalState","enforce","TEMPLATE","split","options","unsafe","simple","noTargetGet","join","functionToString","NATIVE_WEAK_MAP","objectHas","sharedKey","hiddenKeys","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","getterFor","TYPE","names","defaults","verbosity","locked","failed","$status","messages","message","log","warn","Error","isUtf8","decode","sdkTx","pubkey","neutral","stripNeutralSource","strip","sequence","stripNeutralSequence","network","horizon","timeBounds","minTime","maxTime","memo","_memo","fee","operations","sdkOp","asset","line","assetPath","amount","amountStr","buffer","timestamp","Number","toISOString","sdkMemo","_switch","_arm","_value","signer","sdkSigner","weight","ed25519PublicKey","sha256Hash","preAuthTx","threshold","Parameters","encode","opsParams","query","txParams","data","fail","parser","issuer","code","encodeURIComponent","assetLower","toLowerCase","assetsList","authorizeFlag","flag","boolean","substr","date","price","numerator","denominator","url","TxParams","setSpecs","setAction","setFormat","formatId","decoded","getFormat","transaction","normalize","x","parse","setOperation","splice","formats","format","Specs","action","Action","Format","timeout","size","execute","Map","remove","item","generalize","parent","parentCalls","constructorCalls","isBrowser","isNode","process","versions","node","isEmbedded","top","nodeRequire","eval","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","len","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","noError","Promise","resolve","sync","find","allSettled","$type","baseType","typeName","WeakSet","TxAction","accountMerge","allowTrust","bumpSequence","changeTrust","claimableBalance","createAccount","createPassiveSellOffer","manageData","manageBuyOffer","manageSellOffer","pathPaymentStrictReceive","pathPaymentStrictSend","payment","setOptions","assetCode","assetIssuer","authorize","balanceId","bumpTo","buyAmount","buying","clearFlags","destAsset","destAmount","destMin","destination","highThreshold","homeDomain","limit","lowThreshold","masterWeight","medThreshold","memoBinary","memoHash","memoId","memoReturn","memoText","memoType","offerId","path","selling","sendAmount","sendAsset","sendMax","setFlags","signerHash","signerKey","signerType","signerTx","signerWeight","startingBalance","trustor","shorter","isBase64","FEE_MAX","pow","PUBKEY_REGEXP","FEDERATED_REGEXP","HASH_REGEXP","ctx","checkInteger","parseInt","checkNumber","num","checkUtf8","checkBase64","checkHash","hash","isOpType","opMandatoryFields","isOpField","address","short","checkId","JSON","stringify","day","time","redefine","regexpExec","SPECIES","RegExpPrototype","KEY","FORCED","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","regexp","arg2","forceStringMethod","$exec","$","forced","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","$propertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","V","classof","ordinaryToPrimitive","TO_PRIMITIVE","pref","exoticToPrim","userAgent","Deno","v8","fn","val","valueOf","test","ownKeys","getOwnPropertyDescriptorModule","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","internalObjectKeys","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","integer","feature","detection","POLYFILL","NATIVE","that","ignoreCase","dotAll","$RegExp","activeXDocument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","domain","style","display","appendChild","src","contentWindow","open","F","Properties","objectKeys","CONVERT_TO_STRING","pos","first","second","charCodeAt","codeAt","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","tailPos","symbols","ch","capture","R","capitalize","toUpperCase","removeEmptyFields","minFee","XLM","neutralAsset","shifted","setMinutes","getMinutes","isArray","Buffer","_type","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","allocUnsafe","from","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","fromString","obj","isBuffer","checked","copy","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","arr","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","y","list","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","stringtrim","base64clean","dst","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","LiveObject","entry","decodeURIComponent","fromQuery","toQuery","prefix","fromJson","json","toJson","LiveArray","$pick","$export","transformer","$push","$pull","targetKey","$listen","depends","definition","setupDefinition","safeFlag","compute","promise","definitionDependsState","computeDefinition","setupTraps","maybePromises","propagateShiftOrPop","propagateUnshiftOrPush","propagateSplice","previous","clone","sort","update","$trigger","removeOnce","$forEach","$forExit","$ignore","liveArray","updateTraps","diff","removed","added","methodName","baseMethod","methodWrapper","$add","$remove","rindex"],"mappings":"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","file":"tx-params.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"txParams\"] = factory();\n\telse\n\t\troot[\"txParams\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 56);\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","\"use strict\";\n/**\n * **Kisbox helpers** is a collection of independent functions that are required\n * by other @kisbox libraries.\n */\n\nObject.assign(exports, require(\"./any\"), require(\"./array\"), require(\"./constructor\"), require(\"./environment\"), require(\"./error\"), require(\"./function\"), require(\"./meta\"), require(\"./object\"), require(\"./promise\"), require(\"./property\"), require(\"./prototype\"));","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","\"use strict\";\n/* Index */\n\nmodule.exports = {\n  plan: require(\"./plan\"),\n  type: require(\"./type\")\n};","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","\"use strict\";\n/*\n * Object Helpers\n *\n * @exports my.object\n */\n\nconst my = module.exports;\n/* Creation */\n\n/**\n * Create a new object with **prototype** and **properties**.\n */\n\nmy.wrap = function (prototype, properties) {\n  const object = Object.create(prototype);\n  if (properties) Object.assign(object, properties);\n  return object;\n};\n/**\n * Une fonction qui génère un object à partir d'une liste de clefs et d'une\n * fonction qui retourne une valeur pour chaque clef.\n */\n\n\nmy.associate = function (keys, func) {\n  const object = {};\n  keys.forEach(key => object[key] = func(key));\n  return object;\n};\n/* Mutation */\n\n/**\n * Create a new object with the same properties than **object** but whose values\n * have been transformed by **func**.\n *\n * TODO: make it a xmap\n */\n\n\nmy.objectMap = function (object, func) {\n  const keys = Object.keys(object);\n  return my.associate(keys, key => func(object[key], key));\n};","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue === 'string' &&\n        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&\n        replaceValue.indexOf('$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = toString(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","\"use strict\";\n/**\n * $events composable.\n *\n * @private\n **/\n\nconst {\n  $util,\n  noThrow\n} = require(\"@kisbox/helpers\");\n\nconst {\n  plan\n} = require(\"@kisbox/utils\");\n\nconst {\n  getPrototypeOf\n} = Object;\n/* Definition */\n\nconst $events = $util(\"/events/\", {\n  constructor: function (target) {\n    this.provider = target;\n    this.clear();\n\n    const $change = () => reallyTrigger(target, this.handlers[\"$change\"]);\n\n    this.put(\"*\", () => plan($change));\n  },\n\n  clear() {\n    this.handlers = {};\n  },\n\n  put(type, handler) {\n    if (!this.handlers[type]) {\n      this.handlers[type] = new Set();\n    }\n\n    this.handlers[type].add(handler);\n  },\n\n  delete(type, handler) {\n    if (!handler) {\n      delete this.handlers[type];\n    } else if (this.handlers[type]) {\n      this.handlers[type].delete(handler);\n    }\n  },\n\n  trigger(context, type, args) {\n    // Inherited handlers.\n    const proto = getPrototypeOf(this.provider);\n    const inherited = $events.get(proto);\n    if (inherited) inherited.trigger(context, type, args); // Local handlers.\n\n    reallyTrigger(context, this.handlers[type], args);\n    reallyTrigger(context, this.handlers[\"*\"], args);\n  }\n\n});\n\nfunction reallyTrigger(context, handlers, args) {\n  if (!handlers) return;\n  handlers.forEach(handler => {\n    noThrow(() => handler.apply(context, args));\n  });\n}\n/* Exports */\n\n\nmodule.exports = $events;","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return typeof $Symbol == 'function' && Object(it) instanceof $Symbol;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.17.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var global = require('../internals/global');\n\nmodule.exports = function (key, value) {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = {};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeExec = RegExp.prototype.exec;\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  // eslint-disable-next-line max-statements -- TODO\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = patchedExec.call(raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = str.slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str.charAt(re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var isSymbol = require('../internals/is-symbol');\n\nmodule.exports = function (argument) {\n  if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","\"use strict\";\n/**\n * Observable: extends Objects with event capabilities.\n *\n * @exports Observable\n */\n\nconst {\n  call,\n  xeach,\n  keach\n} = require(\"@kisbox/helpers\");\n\nconst $events = require(\"./lib/events\");\n\nconst $traps = require(\"./lib/traps\");\n/* Definition */\n\n\nclass Observable {\n  /* (type, handler)\n   * ([...types], handler)\n   * ({ ...type: handler })\n   */\n  $on(types, handler) {\n    keach(types, handler, (type, handler) => {\n      $traps.trapProperty(this, type); // TODO: $events should handle property trapping when relevent\n\n      $events(this).put(type, handler);\n    });\n  }\n\n  $once(types, handler) {\n    keach(types, handler, (type, handler) => {\n      const wrappedhandler = function () {\n        this.$off(type, wrappedhandler);\n        handler(arguments);\n      };\n\n      this.$on(type, wrappedhandler);\n    });\n  }\n  /* (type, [handler])\n   * ([...types], [handler])\n   * ({ ...type: handler })\n   */\n\n\n  $off(types, handler) {\n    if (!types) {\n      // delete this[$events.symbol]?\n      $events(this).clear();\n    } else {\n      keach(types, handler, (type, handler) => {\n        $events(this).delete(type, handler);\n      });\n    }\n  }\n\n  $trap(types) {\n    xeach(types, type => {\n      $traps.trapProperty(this, type);\n    });\n  } // Move $set here?\n\n  /* (type, ...args)\n   * ([...types], ...args)\n   *\n   * TODO: remove this one! :)\n   */\n\n\n  $trigger(types, ...args) {\n    xeach(types, type => {\n      const events = $events.get(this);\n      if (events) events.trigger(this, type, args);\n    });\n  } // TODO: memory management\n\n\n  $listen(target, events, callback) {\n    keach(events, callback, (event, callback) => {\n      safe.$on(target, event, callback);\n    });\n  }\n\n  $ignore(target, events, callback) {\n    keach(events, callback, (event, callback) => {\n      safe.$off(target, event, callback);\n    });\n  } // TODO: replace by melt\n\n\n  $destroy() {}\n\n  $change() {}\n\n}\n\nconst safe = call(Observable);\n/* Export */\n\nmodule.exports = Observable;","\"use strict\";\n/**\n * $traps side-scope.\n *\n * @private\n **/\n\nconst {\n  type\n} = require(\"@kisbox/utils\");\n\nconst {\n  $sideScope,\n  either,\n  lock,\n  setProperty\n} = require(\"@kisbox/helpers\");\n\nconst $events = require(\"./events\"); // sideScope inherits from parents sideScopes.\n\n\nconst $traps = $sideScope(\"/traps/\");\n/* Library */\n\n$traps.trapProperty = function (target, key, guard) {\n  if (typeof target[key] === \"function\") {\n    $traps.trapFunction(target, key);\n  } else {\n    $traps.trapValue(target, key, guard);\n  }\n};\n\n$traps.trapFunction = function (target, key) {\n  const wrapped = target[key];\n  if (wrapped && wrapped.isTrapped) return;\n  lock(target, key, function () {\n    return $traps.callFunction(this, key, wrapped, arguments);\n  });\n  target[key].isTrapped = true;\n};\n\n$traps.callFunction = function (context, key, wrapped, args) {\n  const returned = wrapped.apply(context, args);\n  const events = $events.get(context);\n\n  if (type(returned) === \"promise\") {\n    returned.then(value => {\n      events.trigger(context, key, [args, value, key, context]);\n    });\n  } else {\n    events.trigger(context, key, [args, returned, key, context]);\n  }\n\n  return returned;\n};\n\n$traps.trapValue = function (target, key, guard) {\n  const trapped = $traps(target);\n  if (key in trapped) return;\n  trapped[key] = filter(guard, target[key]);\n  setProperty(target, key, {\n    get() {\n      return $traps(this)[key];\n    },\n\n    set(value) {\n      const filtered = filter(guard, value);\n      $traps.setValue(this, key, filtered, true);\n    }\n\n  });\n};\n/*\n * Update trapped value & emit an event if **check** is false or if **value**\n * changed.\n */\n\n\n$traps.setValue = function (target, key, value, check) {\n  const trapped = $traps(target);\n  const old = trapped[key];\n\n  if (!(check && value === old)) {\n    trapped[key] = value; // TODO: avoid triggering \"*\" twice :(\n\n    const events = $events(target);\n    events.trigger(target, key, [value, old, key, target]);\n    events.trigger(target, \"$set\", [value, old, key, target]); // Auto-update promises...\n\n    if (type(value) === \"promise\") {\n      value.catch(error => {\n        console.error(error);\n        return error;\n      }).then(resolved => {\n        // ... only when key hasn't been changed meanwhile.\n        if (target[key] === value) {\n          $traps.setValue(target, key, resolved);\n        }\n      });\n    }\n  }\n};\n/* Helpers */\n\n\nfunction filter(func, value) {\n  return func ? either(func(value), value) : value;\n}\n/* Exports */\n\n\nmodule.exports = $traps;","\"use strict\";\n/**\n * Helpers for objects whose type is unknown.\n *\n * @exports any\n * */\n\nconst my = exports;\n\nmy.isArrayLike = function (any) {\n  // https://stackoverflow.com/a/55080450\n  return !!any && typeof any[Symbol.iterator] === \"function\" && typeof any.length === \"number\" && typeof any !== \"string\";\n};\n\nmy.isAtom = function (any) {\n  return any === null || typeof any !== \"object\" || any instanceof Date;\n};\n/**\n * Returns whether **any** is the instance of a class.\n *\n * @param {Any} any\n * @return {Boolean}\n */\n\n\nmy.isInstance = function (any) {\n  return !(any.prototype && any.prototype.constructor === any);\n};","\"use strict\";\n/**\n * Prototype-related helpers\n *\n * @exports prototype\n */\n\nconst my = exports;\n\nconst {\n  associate\n} = require(\"./object\");\n/**\n * Accepte un prototype et retourne ses méthodes de-contextualisées.\n */\n\n\nmy.decontextualize = function (prototype) {\n  const keys = Object.getOwnPropertyNames(prototype);\n  const methods = keys.filter(key => typeof prototype[key] === \"function\"); // TODO: find a more efficient way?\n\n  const wrapper = associate(methods, key => {\n    const wrapped = prototype[key];\n    return function () {\n      const context = Array.prototype.shift.call(arguments);\n      return wrapped.apply(context, arguments);\n    };\n  });\n  delete wrapper.constructor;\n  return wrapper;\n};","\"use strict\";\n/**\n * Helpers related to meta-programming\n *\n * @todo Reword names (trait, mark, sideScope, sideClass, utility)\n *\n * @exports $meta\n * */\n\nconst my = exports;\n\nconst {\n  hasOwn,\n  hide\n} = require(\"./property\");\n/**\n * Encapsulated _Symbol_ + base utilities.\n **/\n\n\nmy.$tag = function (name = \"/tag/\") {\n  const symbol = Symbol(name);\n  return {\n    get: target => target[symbol],\n    set: (target, value) => hide(target, symbol, value),\n    isIn: target => !!target[symbol],\n    isOn: target => hasOwn(target, symbol)\n  };\n};\n/**\n * Une fonction qui sauvegarde le résultat d'une computation pour un object\n * donné.\n *\n * @param {String} [name=memoized] - Name of the $memoizer symbol.\n * @param {Function} [generator] - The computation to perform on targets.\n */\n\n\nmy.$memoizer = function (name = \"/memoized/\", generator = () => Object.create(null)) {\n  const $tag = my.$tag(name);\n\n  const accessor = function (target) {\n    if (!$tag.isOn(target)) $tag.set(target, generator(target));\n    return $tag.get(target);\n  };\n\n  Object.assign(accessor, $tag);\n  return accessor;\n};\n\nmy.$util = function (name = \"/utility/\", methods = {}) {\n  const constructor = methods.constructor || function () {};\n\n  constructor.prototype = methods;\n  return my.$memoizer(name, target => new constructor(target));\n};\n/**\n * SideScope is a memoizer.\n **/\n\n\nmy.$sideScope = function (name = \"/sideScope/\", prototype) {\n  const accessor = my.$memoizer(name, object => {\n    const proto = Object.getPrototypeOf(object);\n    const inherited = accessor(proto);\n    const returned = Object.create(inherited);\n    return returned;\n  }); // Root SideScope.\n\n  accessor.set(Object.prototype, prototype || Object.create(null));\n  return accessor;\n};\n\nmy.$sideClass = function (name = \"/sideClass/\", constructor) {\n  return my.$sideScope(name, constructor.prototype);\n};","\"use strict\";\n/**\n * Properties-related helpers\n *\n * @todo Sane handler of property defaults\n * @exports property\n */\n\nconst my = exports;\n\nconst {\n  either\n} = require(\"./function\");\n\nconst {\n  wrap\n} = require(\"./object\");\n/* Introspection */\n\n\nmy.hasOwn = function (object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n};\n/* Configuration */\n\n\nmy.hide = function (object, key, value) {\n  const flags = {\n    enumerable: false\n  };\n  if (arguments.length === 3) flags.value = value;\n  my.setProperty(object, key, flags);\n};\n\nmy.lock = function (object, key, value) {\n  const flags = {\n    writable: false,\n    configurable: false\n  };\n  if (arguments.length === 3) flags.value = value;\n  my.setProperty(object, key, flags);\n};\n\nmy.hideLock = function (object, key, value) {\n  const flags = {\n    writable: false,\n    enumerable: false,\n    configurable: false\n  };\n  if (arguments.length === 3) flags.value = value;\n  my.setProperty(object, key, flags);\n};\n\nmy.setProperty = function (object, key, params = {}) {\n  if (key in object) {\n    // Property exists, `undefined` flags retains current values.\n    if (!(\"value\" in params || \"set\" in params || \"get\" in params)) {\n      params = Object.create(params);\n      params.value = object[key];\n    }\n\n    Object.defineProperty(object, key, params);\n  } else {\n    // Property doesn't exist: only unset requested flags.\n    const flags = wrap(params, {\n      enumerable: either(params.enumerable, true),\n      configurable: either(params.configurable, true)\n    });\n\n    if (!(\"get\" in params || \"set\" in params)) {\n      flags.writable = either(params.writable, true);\n    }\n\n    Object.defineProperty(object, key, flags);\n  }\n};\n/* Applications */\n\n/**\n * Retarde l'évaluation de la valeur de **key** au moment de la lecture.\n * TODO: make it work on prototypes\n */\n\n\nmy.delay = function (object, key, thunk) {\n  Object.defineProperty(object, key, {\n    configurable: true,\n    get: function () {\n      delete this[key];\n      return this[key] = thunk.call(this);\n    }\n  });\n};","\"use strict\";\n/*\n * Function-related helpers\n *\n * @exports function\n */\n\nconst my = exports;\n\nconst {\n  isAtom,\n  isArrayLike\n} = require(\"./any\");\n/* Library */\n\n/**\n * Pass _rule_ to **callback**, where _rule_ is either **key** in **rules** or\n * `*` in **rules**. If no _rule_ is found, do nothing.\n */\n\n\nmy.dispatch = function (rules, key, callback) {\n  const rule = rules[key] || rules[\"*\"];\n\n  if (rule) {\n    return callback ? callback(rule) : rule;\n  }\n};\n/*\n * Returns **value1** when not `undefined`, else **value2**.\n */\n\n\nmy.either = function (value1, value2) {\n  return value1 === undefined ? value2 : value1;\n};\n/**\n * Takes **any** object, apply **func** to it if it is an atom, or apply\n * **func** to each of its elements if it is a composite object.\n *\n * @param {Any} any\n * @param {Function} callback\n **/\n\n\nmy.xeach = function (any, callback) {\n  if (any == null) {\n    return;\n  } else if (isAtom(any)) {\n    callback(any, \"atom\");\n  } else if (typeof any.forEach === \"function\") {\n    any.forEach(callback);\n  } else if (isArrayLike(any)) {\n    Array.prototype.forEach.call(any, callback);\n  } else {\n    Object.entries(any).forEach(([key, value]) => {\n      callback(value, key);\n    });\n  }\n};\n/**\n * Call `callback(key, value)` as follow:\n *\n * - keach(atom, value, callback) calls callback(atom, value)\n * - keach(array, value, callback) iterates callback(item, value)\n * - keach(object, null, callback) iterates callback(key, value)\n *\n * @param {Any} keys\n * @param {Any} value\n * @param {Function} callback\n **/\n\n\nmy.keach = function (keys, value, callback) {\n  if (keys == null) {\n    return;\n  } else if (isAtom(keys)) {\n    callback(keys, value);\n  } else if (typeof keys.forEach === \"function\") {\n    keys.forEach(key => callback(key, value));\n  } else if (isArrayLike(keys)) {\n    Array.prototype.forEach.call(keys, key => callback(key, value));\n  } else {\n    Object.entries(keys).forEach(([key, value]) => {\n      callback(key, value);\n    });\n  }\n};\n/**\n * Takes **any** object, apply **function** and returns an _Array_.\n *\n * @param {*} any\n * @param {Function} callback\n * @return {Array}\n **/\n\n\nmy.xmap = function (any, callback) {\n  const array = [];\n  my.xeach(any, (value, key) => {\n    array.push(callback(value, key));\n  });\n  return array;\n};\n/**\n * Takes **any** object, apply **function** and returns an _Object_.\n *\n * @param {*} any\n * @param {Function} callback\n * @return {Object}\n **/\n\n\nmy.xassoc = function (any, callback) {\n  const object = {};\n  my.xeach(any, (value, key) => {\n    const returned = callback(value, key);\n    if (returned !== undefined) object[key] = returned;\n  });\n  return object;\n};","\"use strict\";\n/**\n * TxParams.Action\n */\n\nconst {\n  xeach\n} = require(\"@kisbox/helpers\");\n/* Definition */\n\n\nclass TxAction {\n  constructor(rules) {\n    Object.assign(this, rules);\n  }\n\n  transaction(tx, ...params) {\n    if (this.txBefore) tx = this.txBefore(tx, ...params) || tx;\n    this.iterate(tx, tx);\n    if (this.txAfter) tx = this.txAfter(tx, ...params) || tx;\n    return tx;\n  }\n\n  operations(ops, tx) {\n    return ops.map(op => {\n      if (this.opBefore) op = this.opBefore(op, tx) || op;\n      this.iterate(op, tx);\n      if (this.opAfter) op = this.opAfter(op, tx) || op;\n      return op;\n    });\n  }\n\n  iterate(object, tx) {\n    xeach(object, (value, key) => {\n      if (value !== undefined) {\n        const output = this.field(key, value, tx);\n\n        if (output === undefined) {\n          delete object[key];\n        } else {\n          object[key] = output;\n        }\n      }\n    });\n  }\n\n  field(key, value, tx) {\n    const type = tx.specs.fieldType(key);\n\n    if (this[type]) {\n      return this[type](value, tx);\n    } else if (this[\"any\"]) {\n      return this[\"any\"](value, tx);\n    } else {\n      return value;\n    }\n  }\n\n}\n/* Export */\n\n\nmodule.exports = TxAction;","\"use strict\";\n/**\n * TxSpecs - Wraps Stellar transaction specifications.\n */\n\n/* Definition */\n\nclass TxSpecs {\n  constructor(specs) {\n    Object.assign(this, specs);\n  }\n  /* Data */\n\n\n  txMandatoryFields() {\n    return this.tx.mandatory;\n  }\n\n  txOptionalFields() {\n    return this.tx.optional;\n  }\n\n  opMandatoryFields(opType) {\n    return this.op[opType].mandatory;\n  }\n\n  opOptionalFields(opType) {\n    return this.op[opType].optional;\n  }\n\n  fieldType(field) {\n    return this.type[field];\n  }\n  /* Tests */\n\n\n  isTxField(field) {\n    return this.isTxMandatoryField(field) || this.isTxOptionalField(field);\n  }\n\n  isTxMandatoryField(field) {\n    return this.tx.mandatory.includes(field);\n  }\n\n  isTxOptionalField(field) {\n    return this.tx.optional.includes(field);\n  }\n\n  isOpType(opType) {\n    return !!this.op[opType];\n  }\n\n  isOpField(opType, field) {\n    return this.isOpMandatoryField(opType, field) || this.isOpOptionalField(opType, field);\n  }\n\n  isOpMandatoryField(opType, field) {\n    return !!this.op[opType].mandatory.includes(field);\n  }\n\n  isOpOptionalField(opType, field) {\n    return !!this.op[opType].optional.includes(field);\n  }\n\n}\n/* Export */\n\n\nmodule.exports = TxSpecs;","\"use strict\";\n/* Index */\n\nObject.assign(exports, require(\"./date\"), require(\"./string\"));","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : String(key);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","\"use strict\";\n/**\n * $status utility\n */\n\nconst {\n  $util,\n  wrap\n} = require(\"@kisbox/helpers\");\n/* Configuration */\n\n\nconst defaults = {\n  verbosity: 2,\n  state: null,\n  locked: false,\n  failed: false\n};\n/* Definition */\n\nconst $status = $util(\"/status/\", wrap(defaults, {\n  /* Constructor */\n  constructor: function (source) {\n    this.source = source;\n    this.messages = [];\n  },\n\n  /* Methods */\n  log(message) {\n    this.messages.push([\"log\", message]);\n    /* eslint-disable-next-line no-console */\n\n    if (this.verbosity > 1) console.log(message, \">>\", this.source);\n  },\n\n  warn(message) {\n    this.messages.push([\"warn\", message]);\n    if (this.verbosity > 0) console.warn(message, \">>\", this.source);\n  },\n\n  error(message) {\n    this.messages.push([\"error\", message]);\n    if (this.verbosity > 0) console.error(message, \">>\", this.source);\n    return new Error(message, this.source);\n  },\n\n  set(state) {\n    if (this.locked) return;\n    this.state = state;\n\n    if (this.verbosity > 2) {\n      /* eslint-disable-next-line no-console */\n      console.log(\"Set state: \".concat(state), \">>\", this.source);\n    }\n  },\n\n  lock(state) {\n    if (this.locked) return;\n    if (state !== undefined) this.set(state);\n    this.locked = true;\n    /* eslint-disable-next-line no-console */\n\n    if (this.verbosity > 2) console.log(\"Lock state\", \">>\", this.source);\n  },\n\n  fail(state) {\n    if (this.locked) return;\n    this.failed = true;\n    this.lock(state);\n\n    if (this.verbosity > 2 || this.verbosity > 0 && !state) {\n      console.error(\"Failure\", \">>\", this.source);\n    } else if (this.verbosity > 0) {\n      console.error(\"Failure: \".concat(state), \">>\", this.source);\n    }\n\n    return new Error(state, this.source);\n  }\n\n}));\n/* Export */\n\n$status.defaults = defaults;\nmodule.exports = $status;","\"use strict\";\n/**\n * TxParams format: SDK Transaction\n */\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nconst {\n  wrap\n} = require(\"@kisbox/helpers\");\n\nconst {\n  isUtf8\n} = require(\"@cosmic-plus/helpers\");\n/* Definition */\n\n\nconst decode = {};\n/* Rules: transaction */\n\ndecode.txBefore = function (tx, sdkTx, options = {}) {\n  // Prevent parameters pollution\n  if (options) options = wrap(options);\n\n  if (sdkTx.source === tx.specs.pubkey.neutral && options.stripNeutralSource) {\n    options.strip = \"source\";\n  } else if (sdkTx.sequence === \"0\" && options.stripNeutralSequence) {\n    options.strip = \"sequence\";\n  }\n\n  tx.network = options.network;\n  tx.horizon = options.horizon;\n  tx.callback = options.callback;\n\n  if (options.strip !== \"source\") {\n    tx.source = sdkTx.source;\n\n    if (options.strip !== \"sequence\") {\n      tx.sequence = sdkTx.sequence;\n    }\n  }\n\n  if (sdkTx.timeBounds) {\n    tx.minTime = sdkTx.timeBounds.minTime;\n    tx.maxTime = sdkTx.timeBounds.maxTime;\n  }\n\n  tx.memo = sdkTx._memo;\n  tx.fee = sdkTx.fee;\n  tx.operations = sdkTx.operations;\n  return tx;\n};\n\ndecode.txAfter = function (tx) {\n  // Move operations to the end of the object\n  const operations = tx.operations;\n  delete tx.operations;\n  tx.operations = operations;\n};\n/* Rules: operations */\n\n\ndecode.opBefore = function (sdkOp) {\n  const op = Object.assign({}, sdkOp);\n\n  if (\"line\" in op) {\n    op.asset = op.line;\n    delete op.line;\n  }\n\n  return op;\n};\n/* Rules: fields */\n\n\ndecode.asset = function (asset) {\n  return Object.assign({}, asset);\n};\n\ndecode.assetPath = function (assetPath) {\n  return assetPath.map(asset => decode.asset(asset));\n};\n\ndecode.amount = function (amount) {\n  const amountStr = String(amount); // Remove useless decimals (but don't mutate \"fee\")\n  // TODO: use a dedicated type for fees?\n\n  if (amountStr.match(/\\./)) {\n    return amountStr.replace(/\\.?0+$/, \"\");\n  } else {\n    return amountStr;\n  }\n};\n\ndecode.buffer = function (buffer) {\n  if (!buffer) return null;\n  const string = buffer.toString();\n\n  if (isUtf8(string)) {\n    return {\n      type: \"text\",\n      value: string\n    };\n  } else {\n    const value = buffer.toString(\"base64\").replace(/=*$/, \"\");\n    return {\n      type: \"base64\",\n      value: value\n    };\n  }\n};\n\ndecode.date = function (timestamp) {\n  if (timestamp === \"0\") return;\n  return new Date(Number(timestamp) * 1000).toISOString();\n};\n\ndecode.flags = String;\n\ndecode.memo = function (sdkMemo) {\n  if (sdkMemo._switch.name === \"memoNode\") return;\n  const memo = {\n    type: sdkMemo._arm\n  };\n\n  switch (memo.type) {\n    case \"text\":\n      return decode.buffer(sdkMemo._value);\n\n    case \"retHash\":\n      memo.type = \"return\";\n    // Fallthrough\n\n    case \"hash\":\n      memo.value = sdkMemo._value.toString(\"hex\");\n      return memo;\n\n    case \"id\":\n      memo.value = sdkMemo._value.toString();\n      return memo;\n  }\n};\n\ndecode.sequence = function (sequence) {\n  return sequence.toString();\n};\n\ndecode.signer = function (sdkSigner) {\n  const signer = {\n    weight: decode.weight(sdkSigner.weight)\n  };\n\n  if (sdkSigner.ed25519PublicKey) {\n    signer.type = \"key\";\n    signer.value = sdkSigner.ed25519PublicKey;\n  } else if (sdkSigner.sha256Hash) {\n    signer.type = \"hash\";\n    signer.value = sdkSigner.sha256Hash.toString(\"hex\");\n  } else if (sdkSigner.preAuthTx) {\n    signer.type = \"tx\";\n    signer.value = sdkSigner.preAuthTx.toString(\"hex\");\n  }\n\n  return signer;\n};\n\ndecode.threshold = String;\ndecode.weight = String;\n/* Export */\n\nmodule.exports = {\n  decode\n};","\"use strict\";\n/**\n * TxParams Format: Query\n */\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nconst {\n  xmap\n} = require(\"@kisbox/helpers\");\n\nconst Parameters = require(\"../lib/parameters\");\n\nconst $status = require(\"../lib/status\");\n/* Definition */\n\n\nconst encode = {},\n      decode = {};\n/* Rules: transaction */\n\nencode.txAfter = function (tx) {\n  let query = \"?\";\n  let type, opsParams;\n\n  if (tx.operations.length === 1 && !tx.operations[0][1].match(/(^|&)source=/)) {\n    [type, opsParams] = tx.operations[0];\n  } else {\n    type = \"transaction\";\n    opsParams = xmap(tx.operations, ([type, params]) => {\n      if (!params.length) return \"operation=\".concat(type);else return \"operation=\".concat(type, \"&\").concat(params);\n    }).join(\"&\");\n  }\n\n  delete tx.operations;\n  const txParams = xmap(tx, (value, field) => \"\".concat(field, \"=\").concat(value)).join(\"&\");\n  query += \"type=\".concat(type);\n  if (txParams) query += \"&\".concat(txParams);\n  if (opsParams.length) query += \"&\".concat(opsParams);\n  return query;\n};\n\ndecode.txBefore = function (tx, data) {\n  if (data[0] !== \"?\") throw $status(tx).fail(\"Invalid query\"); // Backward compatibility with the old non-standard syntax, deprecated since\n  // 2019-08-26. This adds `type=` at the beginning of the query when the first\n  // parameter doesn't contains an `=` sign.\n\n  if (data.match(/^\\?\\w+(&|$)/)) data = \"?type=\".concat(data);\n  let parser;\n  Parameters.forEach(data, (value, field) => {\n    if (field === \"type\") {\n      if (parser) {\n        throw $status(tx).error(\"Query declares 'type' several times.\");\n      } else if (value !== \"transaction\") {\n        tx.operations[0] = {\n          type: value\n        };\n      }\n\n      parser = value;\n      return;\n    } else if (!parser) {\n      throw $status(tx).error(\"Query doesn't declare 'type' in first position.\");\n    }\n\n    if (field === \"operation\") {\n      if (parser === \"transaction\" || parser === \"operation\") {\n        tx.operations.push({\n          type: value\n        });\n        parser = \"operation\";\n        return;\n      } else {\n        throw $status(tx).error(\"Invalid parameter: operation.\");\n      }\n    }\n\n    if (parser === \"transaction\") {\n      // Multi-operation link.\n      tx[field] = value;\n    } else if (parser === \"operation\") {\n      // One-operation link.\n      tx.operations[tx.operations.length - 1][field] = value;\n    } else {\n      if (tx.specs.isTxOptionalField(field)) {\n        // if (tx.specs.isTxField(field)) {\n        tx[field] = value;\n      } else {\n        tx.operations[0][field] = value;\n      }\n    }\n  }); // Move operations to the end of the object\n\n  const operations = tx.operations;\n  delete tx.operations;\n  tx.operations = operations;\n};\n/* Rules: operations */\n\n\nencode.opAfter = function (op) {\n  const type = op.type;\n  delete op.type;\n  const params = xmap(op, (value, field) => \"\".concat(field, \"=\").concat(value)).join(\"&\");\n  return [type, params];\n};\n/* Rules: fields */\n\n\nencode.asset = function (asset) {\n  if (asset.issuer) {\n    const code = encodeURIComponent(asset.code);\n    const issuer = encodeURIComponent(asset.issuer);\n    return \"\".concat(code, \":\").concat(issuer);\n  }\n};\n\ndecode.asset = function (asset) {\n  const assetLower = asset.toLowerCase();\n\n  if (assetLower === \"xlm\" || assetLower === \"native\") {\n    return {\n      code: \"XLM\"\n    };\n  } else {\n    const [code, issuer] = asset.split(\":\");\n    return {\n      code,\n      issuer\n    };\n  }\n};\n\nencode.assetPath = function (assetPath) {\n  return assetPath.map(asset => encode.asset(asset)).toString();\n};\n\ndecode.assetPath = function (assetsList) {\n  return assetsList.split(\",\").map(decode.asset);\n};\n\ndecode.authorizeFlag = function (flag) {\n  if (!isNaN(+flag)) {\n    return +flag;\n  } else {\n    // Backward compatibility. (protocol =< 12)\n    return decode.boolean(flag);\n  }\n};\n\nencode.boolean = function (boolean) {\n  if (boolean === false) return \"false\";\n};\n\ndecode.boolean = function (string) {\n  return string !== \"false\";\n};\n\nencode.buffer = function (buffer) {\n  if (buffer.type === \"text\") {\n    // Guard against prefix mis-interpretation.\n    const decoded = decode.buffer(buffer.value);\n    if (decoded.type === \"text\") return encodeURIComponent(buffer.value);\n  } else if (buffer) {\n    return \"\".concat(buffer.type, \":\").concat(encodeURIComponent(buffer.value));\n  }\n};\n\ndecode.buffer = function (string) {\n  const matched = string.match(/(^[^:]*):/);\n  const type = matched && matched[1];\n\n  switch (type) {\n    case \"base64\":\n      {\n        const value = string.substr(type.length + 1);\n        return {\n          type,\n          value\n        };\n      }\n\n    case \"text\":\n      string = string.substr(type.length + 1);\n    // Fallthrough\n\n    default:\n      return {\n        type: \"text\",\n        value: decode.string(string)\n      };\n  }\n};\n\nencode.date = function (date) {\n  return date.replace(/Z$/, \"\");\n};\n\ndecode.date = function (string) {\n  // now + {minutes} syntactic sugar\n  if (string.match(/^\\+[0-9]+$/)) return string; // Use UTC timezone by default.\n\n  if (string.match(/T[^+]*[0-9]$/)) string += \"Z\";\n  return new Date(string).toISOString();\n};\n\nencode.memo = function (memo) {\n  if (memo.type === \"text\") {\n    // Guard against prefix mis-interpretation.\n    const decoded = decode.memo(memo.value);\n    if (decoded.type === \"text\") return encodeURIComponent(memo.value);\n  }\n\n  return \"\".concat(memo.type, \":\").concat(encodeURIComponent(memo.value));\n};\n\ndecode.memo = function (string) {\n  const matched = string.match(/(^[^:]*):/);\n  const type = matched && matched[1];\n\n  switch (type) {\n    case \"base64\":\n    case \"id\":\n    case \"hash\":\n    case \"return\":\n      {\n        const value = string.substr(type.length + 1);\n        return {\n          type,\n          value\n        };\n      }\n\n    case \"text\":\n      string = string.substr(type.length + 1);\n    // Fallthrough\n\n    default:\n      return {\n        type: \"text\",\n        value: decode.string(string)\n      };\n  }\n};\n\nencode.price = function (price) {\n  if (typeof price === \"string\") {\n    return price;\n  } else {\n    return \"\".concat(price.n, \":\").concat(price.d);\n  }\n};\n\ndecode.price = function (string) {\n  const [numerator, denominator] = string.split(\":\");\n\n  if (!denominator) {\n    return numerator;\n  } else {\n    return {\n      n: +numerator,\n      d: +denominator\n    };\n  }\n};\n\nencode.signer = function (signer) {\n  return \"\".concat(signer.weight, \":\").concat(signer.type, \":\").concat(signer.value);\n};\n\ndecode.signer = function (string) {\n  const [weight, type, value] = string.split(\":\");\n  return {\n    weight,\n    type,\n    value\n  };\n};\n\ndecode.string = function (string) {\n  return string.replace(/\\+/g, \" \");\n};\n\nencode.url = function (url) {\n  if (url.substr(0, 8) === \"https://\") {\n    url = url.substr(8);\n  }\n\n  return encodeURIComponent(url);\n};\n\ndecode.network = decode.string; // Defaults\n\nencode[\"*\"] = function (any) {\n  return encodeURIComponent(any);\n};\n/* Export */\n\n\nmodule.exports = {\n  encode,\n  decode\n};","\"use strict\";\n/**\n *\n */\n\nconst TxParams = require(\"./model/tx-params\");\n/* Protocol */\n\n\nTxParams.setSpecs(require(\"./protocol/v15\"));\n/* Actions */\n\nTxParams.setAction(\"check\", require(\"./action/check\"));\nTxParams.setAction(\"normalize\", require(\"./action/normalize\"));\nTxParams.setAction(\"parse\", require(\"./action/parse\"));\n/* Formats */\n\nTxParams.setFormat(\"query\", require(\"./format/query\"));\nTxParams.setFormat(\"json\", require(\"./format/json\"));\nTxParams.setFormat(\"transaction\", require(\"./format/transaction\"));\n/* Export */\n\nmodule.exports = TxParams;","\"use strict\";\n/**\n * TxParams - Extensible Stellar transactions manipulation\n */\n\nconst {\n  type\n} = require(\"@kisbox/utils\");\n/* Definition */\n\n\nclass TxParams {\n  static from(formatId, data, options) {\n    const format = this.getFormat(formatId);\n    const decoded = format.decode.transaction(new this(), data, options);\n    return sync(decoded, txParams => {\n      txParams.normalize();\n      return txParams;\n    });\n  }\n\n  constructor(params) {\n    Object.assign(this, params);\n    this.parse();\n  }\n  /* Convertion */\n\n\n  to(type, options) {\n    const format = this.constructor.getFormat(type);\n    return format.encode.transaction(this, options);\n  }\n  /* Editor */\n\n\n  addOperation(name, params) {\n    this.setOperation(this.operations.length, name, params);\n    return this;\n  }\n\n  insertOperation(index, name, params) {\n    this.operations.splice(index, 0, 1);\n    this.setOperation(index, name, params);\n    return this;\n  }\n\n  setOperation(index, name, params) {\n    // this.specs.checkOperationType(name)\n    const op = Object.assign({\n      type: name\n    }, params);\n    this.operations[index] = op; // TODO: this.parse.operation(op)\n\n    this.parse();\n    return this;\n  }\n\n  removeOperation(index) {\n    this.operations.splice(index, 1);\n    return this;\n  }\n\n}\n/* Data */\n\n\nTxParams.formats = [];\n/* Utilities */\n\nTxParams.getFormat = function (type) {\n  const format = this.formats[type];\n  if (!format) throw new Error(\"Unknow format: \".concat(type));\n  return format;\n};\n\nTxParams.setSpecs = function (rules) {\n  this.prototype.specs = new TxParams.Specs(rules);\n};\n\nTxParams.setAction = function (name, rules) {\n  const action = new TxParams.Action(rules);\n\n  this.prototype[name] = function (params) {\n    return action.transaction(this, params);\n  };\n};\n\nTxParams.setFormat = function (name, rules) {\n  this.formats[name] = new TxParams.Format(rules);\n};\n/* Helpers */\n\n\nfunction sync(value, callback) {\n  if (type(value) === \"promise\") {\n    return value.then(x => callback(x));\n  } else {\n    return callback(value);\n  }\n}\n/* Export */\n\n\nTxParams.Action = require(\"./tx-action\");\nTxParams.Format = require(\"./tx-format\");\nTxParams.Specs = require(\"./tx-specs\");\nmodule.exports = TxParams;","\"use strict\";\n/**\n * Plan\n **/\n\nconst {\n  timeout\n} = require(\"@kisbox/helpers\");\n/* Definition */\n\n\nfunction plan(key, thunk = key) {\n  if (plan.map.size === 0) {\n    timeout(0).then(() => plan.execute());\n  }\n\n  plan.map.set(key, thunk);\n}\n\nplan.execute = function () {\n  for (let [key, thunk] of plan.map) {\n    thunk.call(key);\n    plan.map.delete(key);\n  }\n};\n\nplan.map = new Map();\n/* Export */\n\nmodule.exports = plan;","\"use strict\";\n/**\n * Array-related helpers\n *\n * @exports array\n * */\n\nconst my = exports;\n/**\n * Remove `target` from `array`.\n *\n * @param {Array} array\n * @param {*} target\n * */\n\nmy.remove = function (array, target) {\n  array.forEach((item, index) => {\n    if (item === target) {\n      array.splice(index, 1);\n    }\n  });\n};","\"use strict\";\n/**\n * Constructor-related helpers\n *\n * @exports constructor\n */\n\nconst my = module.exports;\n\nconst {\n  decontextualize\n} = require(\"./prototype\");\n\nconst {\n  $memoizer\n} = require(\"./meta\");\n\nconst {\n  wrap\n} = require(\"./object\");\n/**\n * Transmet les méthodes décontextualisée au constructeur, et les retourne.\n * @deprecated\n */\n\n\nmy.generalize = function (constructor) {\n  const root = decontextualize(constructor.prototype);\n  Object.assign(constructor, root);\n  return root;\n};\n/**\n * Returns the decontextualized methods of a constructor.\n *\n * @example\n * const { hasOwnProperty } = call(Object)\n *\n * const foo = { bar: 123 }\n * hasOwnProperty(foo, \"bar\")        // => true\n * hasOwnProperty(foo, \"baz\")        // => false\n *\n * @param {Constructor} constructor\n * @return Object\n */\n\n\nmy.call = $memoizer(\"/call/\", constructor => {\n  const parent = Object.getPrototypeOf(constructor);\n  const parentCalls = parent ? my.call(parent) : null;\n  const {\n    prototype\n  } = constructor;\n  const constructorCalls = prototype && decontextualize(prototype);\n  return wrap(parentCalls, constructorCalls);\n});","\"use strict\";\n/**\n * Informations and helpers related to the contextual environment.\n *\n * @exports environment\n */\n\nconst my = exports;\n/**\n * `true` if we are running in a browser, `false` otherwise.\n *\n * @member {Boolean}\n */\n\nmy.isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\n/**\n * `true` if we are running in Node.js, `false` otherwise.\n *\n * @member {Boolean}\n */\n\nmy.isNode = typeof process !== \"undefined\" && process.versions && !!process.versions.node;\n/**\n * `true` if the current page is embedded (in a browser window), `false`\n * otherwise.\n *\n * @member {Boolean}\n */\n\nmy.isEmbedded = my.isBrowser && window.self !== window.top;\n/**\n * This require only takes effect in Node.js environment, and is ignored by\n * code bundlers. This is meant to prevent bundling of dependencies that are not\n * relevant to browser environments.\n *\n * @function\n * @param {String} path - A path to the file to load, same as Node.js `require`.\n */\n\nmy.nodeRequire = my.isBrowser ? () => {} : eval(\"require\");","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\n/**\n * Error-related helpers\n *\n * @exports my.error\n **/\n\nconst my = exports;\n/* Executes **thunk** and redirects errors to `console.error`.\n *\n * @param {Function} thunk - A function that takes no argument.\n */\n\nmy.noThrow = function (thunk) {\n  try {\n    return thunk();\n  } catch (error) {\n    console.error(error);\n    return error;\n  }\n};\n/* Executes **thunk** and ignore errors.\n *\n * @param {Function} thunk - A function that takes no argument.\n */\n\n\nmy.noError = function (thunk) {\n  try {\n    return thunk();\n  } catch (error) {\n    null;\n  }\n};","\"use strict\";\n/**\n * Promise-related helpers\n *\n * @exports promise\n */\n\nconst my = exports;\n/**\n * Return a promise that takes `x` milliseconds to resolve.\n *\n * @async\n * @param {Number} delay - Delay, in milliseconds.\n */\n\nmy.timeout = function (delay) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n};\n/**\n * If array contains one or more Promise, returns once each Promise is resolved.\n * Else, returns immediately.\n *\n * @param {Array}\n **/\n\n\nmy.sync = function (array) {\n  if (array.find(x => x instanceof Promise)) {\n    return Promise.allSettled(array).then(() => undefined);\n  }\n};","\"use strict\";\n/**\n * A lightweight yet complete alternative to `typeof` based on traits.\n **/\n\nconst {\n  $tag,\n  isArrayLike,\n  isAtom,\n  isInstance\n} = require(\"@kisbox/helpers\");\n\nconst $type = $tag(\"/type/\");\n/* Definition */\n\nfunction type(any) {\n  const baseType = typeof any;\n\n  if (baseType === \"object\") {\n    return any === null ? \"null\" : $type.get(any);\n  } else {\n    return baseType;\n  }\n}\n\ntype.set = function (constructor, typeName) {\n  $type.set(constructor.prototype, typeName);\n};\n/* Special Type Testing */\n\n\ntype.isArrayLike = isArrayLike;\ntype.isAtom = isAtom;\ntype.isInstance = isInstance;\n/* Initial Setup */\n\ntype.set(Array, \"array\");\ntype.set(Date, \"date\");\ntype.set(Error, \"error\");\ntype.set(Map, \"map\");\ntype.set(Object, \"object\"); // type.set(Proxy, \"proxy\")\n\ntype.set(RegExp, \"regexp\");\ntype.set(Set, \"set\");\ntype.set(WeakSet, \"weakset\");\ntype.set(WeakMap, \"weakmap\");\n\nif (typeof Promise !== \"undefined\") {\n  type.set(Promise, \"promise\");\n}\n/* Export */\n\n\nmodule.exports = type;","\"use strict\";\n/**\n * TxRequest.Format\n */\n\nconst TxAction = require(\"./tx-action\");\n/* Definition */\n\n\nclass TxFormat {\n  constructor(params) {\n    if (params.encode) {\n      this.encode = new TxAction(params.encode);\n    }\n\n    if (params.decode) {\n      this.decode = new TxAction(params.decode);\n    }\n  }\n\n}\n/* Export */\n\n\nmodule.exports = TxFormat;","\"use strict\";\n/**\n * Protocol 12 specifications.\n */\n\nconst TxSpecs = require(\"../model/tx-specs\");\n/* Specs */\n\n\nconst specs = new TxSpecs();\nspecs.tx = {\n  mandatory: [\"operations\"],\n  optional: [\"network\", \"horizon\", \"callback\", \"memo\", \"source\", \"sequence\", \"minTime\", \"maxTime\", \"fee\"]\n};\nspecs.op = {};\nspecs.op.accountMerge = {\n  mandatory: [\"destination\"],\n  optional: [\"source\"]\n};\nspecs.op.allowTrust = {\n  mandatory: [\"authorize\", \"assetCode\", \"trustor\"],\n  optional: [\"source\"]\n};\nspecs.op.bumpSequence = {\n  mandatory: [\"bumpTo\"],\n  optional: [\"source\"]\n};\nspecs.op.changeTrust = {\n  mandatory: [\"asset\"],\n  optional: [\"source\", \"limit\"]\n};\nspecs.op.claimableBalance = {\n  mandatory: [\"balanceId\"],\n  optional: [\"source\"]\n};\nspecs.op.createAccount = {\n  mandatory: [\"destination\", \"startingBalance\"],\n  optional: [\"source\"]\n};\nspecs.op.createPassiveSellOffer = {\n  mandatory: [\"selling\", \"buying\", \"amount\", \"price\"],\n  optional: [\"source\"]\n};\nspecs.op.manageData = {\n  mandatory: [\"name\", \"value\"],\n  optional: [\"source\"]\n};\nspecs.op.manageBuyOffer = {\n  mandatory: [\"selling\", \"buying\", \"buyAmount\", \"price\"],\n  optional: [\"source\", \"offerId\"]\n};\nspecs.op.manageSellOffer = {\n  mandatory: [\"selling\", \"buying\", \"amount\", \"price\"],\n  optional: [\"source\", \"offerId\"]\n};\nspecs.op.pathPaymentStrictReceive = {\n  mandatory: [\"sendAsset\", \"sendMax\", \"destination\", \"destAsset\", \"destAmount\"],\n  optional: [\"source\", \"path\"]\n};\nspecs.op.pathPaymentStrictSend = {\n  mandatory: [\"sendAsset\", \"sendAmount\", \"destination\", \"destAsset\", \"destMin\"],\n  optional: [\"source\", \"path\"]\n};\nspecs.op.payment = {\n  mandatory: [\"asset\", \"destination\", \"amount\"],\n  optional: [\"source\"]\n};\nspecs.op.setOptions = {\n  mandatory: [],\n  optional: [\"source\", \"clearFlags\", \"setFlags\", \"masterWeight\", \"lowThreshold\", \"medThreshold\", \"highThreshold\", \"signer\", \"homeDomain\"]\n};\n/* Field types */\n\nspecs.type = {\n  amount: \"amount\",\n  asset: \"asset\",\n  assetCode: \"string\",\n  assetIssuer: \"address\",\n  authorize: \"authorizeFlag\",\n  balanceId: \"balanceId\",\n  bumpTo: \"sequence\",\n  buyAmount: \"amount\",\n  buying: \"asset\",\n  callback: \"url\",\n  clearFlags: \"flags\",\n  destAsset: \"asset\",\n  destAmount: \"amount\",\n  destMin: \"amount\",\n  destination: \"address\",\n  fee: \"fee\",\n  highThreshold: \"threshold\",\n  homeDomain: \"string\",\n  horizon: \"url\",\n  limit: \"amount\",\n  lowThreshold: \"threshold\",\n  masterWeight: \"weight\",\n  maxTime: \"date\",\n  medThreshold: \"threshold\",\n  memo: \"memo\",\n  memoBinary: \"hash\",\n  memoHash: \"hash\",\n  memoId: \"id\",\n  memoReturn: \"hash\",\n  memoText: \"string\",\n  memoType: \"string\",\n  minTime: \"date\",\n  network: \"network\",\n  offerId: \"string\",\n  operations: \"operations\",\n  price: \"price\",\n  name: \"string\",\n  path: \"assetPath\",\n  selling: \"asset\",\n  sendAmount: \"amount\",\n  sendAsset: \"asset\",\n  sendMax: \"amount\",\n  sequence: \"sequence\",\n  setFlags: \"flags\",\n  signer: \"signer\",\n  signerHash: \"hash\",\n  signerKey: \"address\",\n  signerType: \"string\",\n  signerTx: \"id\",\n  signerWeight: \"weight\",\n  source: \"address\",\n  startingBalance: \"amount\",\n  trustor: \"address\",\n  value: \"buffer\"\n};\n/* Pubkey */\n\nspecs.pubkey = {\n  neutral: \"GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWHF\"\n};\n/* Export */\n\nmodule.exports = specs;","\"use strict\";\n/**\n * Check TxParams\n */\n\nconst {\n  shorter,\n  isBase64,\n  isUtf8\n} = require(\"@cosmic-plus/helpers\");\n\nconst $status = require(\"../lib/status\");\n/* Constants */\n\n\nconst AUTHORIZE_FLAG_MAX = 2;\nconst FEE_MAX = Math.pow(2, 32);\nconst FLAGS_MAX = 7;\nconst WEIGHT_MAX = 255;\nconst PUBKEY_REGEXP = /^G[A-D][A-Z0-9]{54}$/;\nconst FEDERATED_REGEXP = /^[^*]+\\*([\\w-]+\\.)+[\\w]{2,}$/;\nconst HASH_REGEXP = /^[0-9a-f]{64}$/;\n/* Definition */\n\nconst check = {};\n/* Rules: transaction */\n\ncheck.txBefore = function (tx) {\n  if ($status(tx).state) {\n    throw new Error(\"Invalid transaction\", tx);\n  }\n\n  if (tx.operations.length > 100) {\n    error(tx, \"Too much operations (max: 100)\");\n  }\n};\n\ncheck.txAfter = function (tx) {\n  if ($status(tx).messages.length) {\n    throw $status(tx).fail(\"Invalid transaction\");\n  }\n};\n/* Rules: operations */\n\n\ncheck.opBefore = function (op, ctx) {\n  // TODO: should work without `ctx`.\n  if (!ctx.specs.isOpType(op.type)) {\n    error(ctx, \"Unknown operation: \".concat(op.type));\n  }\n\n  ctx.specs.opMandatoryFields(op.type).forEach(field => {\n    if (!(field in op)) {\n      error(ctx, \"Missing parameter for '\".concat(op.type, \"': \").concat(field));\n    }\n  });\n\n  for (let field in op) {\n    if (field === \"type\") continue;\n\n    if (!ctx.specs.isOpField(op.type, field)) {\n      error(ctx, \"Invalid parameter for '\".concat(op.type, \"': \").concat(field));\n    }\n  }\n};\n/* Rules: fields */\n\n\ncheck.amount = function (amount, ctx) {\n  return checkNumber(ctx, amount, \"amount\", 0) || amount;\n};\n\ncheck.address = function (address, ctx) {\n  if (!address.match(PUBKEY_REGEXP) && !address.match(FEDERATED_REGEXP)) {\n    const short = shorter(address);\n    return error(ctx, \"Invalid address: \".concat(short));\n  }\n\n  return address;\n};\n\ncheck.asset = function (asset, ctx) {\n  if (!asset.code) {\n    return error(ctx, \"Missing asset code\");\n  }\n\n  if (asset.code.length > 14) {\n    return error(ctx, \"Asset code is too long (max 14 chars): \".concat(asset.code));\n  }\n\n  if (!asset.issuer) {\n    const code = asset.code.toLowerCase();\n\n    if (code !== \"xlm\" && code !== \"native\") {\n      return error(ctx, \"Missing issuer for asset: \".concat(code));\n    }\n  }\n\n  return asset;\n};\n\ncheck.assetPath = function (assetPath, ctx) {\n  return assetPath.map(asset => check.asset(asset, ctx));\n};\n\ncheck.authorizeFlag = function (flag, ctx) {\n  return checkInteger(ctx, flag, \"authorize flag\", 0, AUTHORIZE_FLAG_MAX) || flag;\n};\n\ncheck.boolean = function (boolean, ctx) {\n  if (typeof boolean !== \"boolean\") {\n    return error(ctx, \"Not a boolean: \".concat(boolean));\n  }\n\n  return boolean;\n};\n\ncheck.buffer = function (buffer, ctx) {\n  // TODO: check length.\n  switch (buffer.type) {\n    case \"text\":\n      return checkUtf8(ctx, buffer.value) || buffer;\n\n    case \"base64\":\n      return checkBase64(ctx, buffer.value) || buffer;\n\n    default:\n      return error(ctx, \"Invalid buffer type: \".concat(buffer.type));\n  }\n};\n\ncheck.date = function (date, ctx) {\n  if (isNaN(Date.parse(date))) {\n    return error(ctx, \"Invalid date: \".concat(date));\n  } else {\n    return date;\n  }\n};\n\ncheck.fee = function (fee, ctx) {\n  return checkInteger(ctx, fee, \"fees\", 0, FEE_MAX) || fee;\n};\n\ncheck.flags = function (flags, ctx) {\n  return checkInteger(ctx, flags, \"flags\", 0, FLAGS_MAX) || flags;\n}; // TODO: review (buggy)\n\n\ncheck.memo = function (memo, ctx) {\n  switch (memo.type) {\n    case \"text\":\n      return checkUtf8(ctx, memo.value) || memo;\n\n    case \"base64\":\n      return checkBase64(ctx, memo.value) || memo;\n\n    case \"hash\":\n    case \"return\":\n      return checkHash(ctx, memo.value) || memo;\n\n    case \"id\":\n      return checkId(ctx, memo.value) || memo;\n\n    default:\n      return error(ctx, \"Invalid memo type: \".concat(memo.type));\n  }\n};\n\ncheck.price = function (price, ctx) {\n  if (typeof price === \"object\") {\n    try {\n      checkNumber(ctx, price.n, null, 0);\n      checkNumber(ctx, price.d, null, 0);\n    } catch (error) {\n      return error(ctx, \"Invalid price: \".concat(JSON.stringify(price)));\n    }\n  } else {\n    checkNumber(ctx, price, \"price\", 0);\n  }\n\n  return price;\n};\n\ncheck.signer = function (signer, ctx) {\n  const output = {};\n  output.weight = check.weight(signer.weight, ctx);\n  output.type = signer.type;\n\n  switch (signer.type) {\n    case \"key\":\n      output.value = check.address(signer.value, ctx);\n      break;\n\n    case \"hash\":\n    case \"tx\":\n      output.value = checkHash(ctx, signer.value) || signer.value;\n      break;\n\n    default:\n      return error(\"Invalid signer type: \".concat(signer.type));\n  }\n\n  return output;\n};\n\ncheck.sequence = function (sequence, ctx) {\n  return checkInteger(ctx, Number(sequence), \"sequence\", 0) || sequence;\n};\n\ncheck.threshold = function (threshold, ctx) {\n  return checkInteger(ctx, threshold, \"threshold\", 0, WEIGHT_MAX) || threshold;\n};\n\ncheck.weight = function (weight, ctx) {\n  return checkInteger(ctx, weight, \"weight\", 0, WEIGHT_MAX) || weight;\n};\n/* Helpers */\n// TODO: move to `TxAction` ?\n\n\nfunction error(ctx, message) {\n  if (ctx) {\n    return $status(ctx).error(message);\n  } else {\n    throw new Error(message);\n  }\n}\n\nfunction checkInteger(ctx, value, type, min, max) {\n  if (parseInt(value) + \"\" !== value + \"\") {\n    return error(ctx, \"Invalid \".concat(type, \" (should be an integer): \").concat(value));\n  }\n\n  return checkNumber(ctx, value, type, min, max);\n} // TODO: Fix no max issue\n\n\nfunction checkNumber(ctx, value, type, min, max) {\n  const num = +value;\n\n  if (isNaN(num)) {\n    return error(ctx, \"Invalid \".concat(type, \" (should be a number): \").concat(value));\n  } else if (min && num < min || max && num > max) {\n    return error(ctx, \"Invalid \".concat(type, \" (should be between \").concat(min, \" and \").concat(max, \"): \").concat(value));\n  }\n}\n\nfunction checkUtf8(ctx, value) {\n  if (typeof value !== \"string\" || !isUtf8(value)) {\n    return error(ctx, \"Invalid UTF8 string: \".concat(value));\n  }\n}\n\nfunction checkBase64(ctx, value) {\n  if (typeof value !== \"string\" || !isBase64(value)) {\n    return error(ctx, \"Invalid base64 string: \".concat(value));\n  }\n}\n\nfunction checkHash(ctx, hash) {\n  if (!hash.match(HASH_REGEXP)) {\n    return error(ctx, \"Invalid hash: \".concat(hash));\n  }\n}\n\nfunction checkId(ctx, id) {\n  if (!id.match(/^[0-9]*$/)) {\n    return error(ctx, \"Invalid id: \".concat(id));\n  }\n}\n/* Export */\n\n\nmodule.exports = check;","\"use function\";\n/**\n * Date helpers\n */\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nconst my = exports;\n/* Library */\n\n/**\n * Return the YYYY-MM-DD date for **time** or for today if **time** is not\n * provided.\n *\n * @param {String|Number} [time] A valid date/timestamp value\n * @return {String} YYYY-MM-DD date\n */\n\nmy.day = function (time) {\n  const date = time ? new Date(time) : new Date();\n  return date.toISOString().replace(/T.*/, \"\");\n};","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = input[TO_PRIMITIVE];\n  var result;\n  if (exoticToPrim !== undefined) {\n    if (pref === undefined) pref = 'default';\n    result = exoticToPrim.call(input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var isObject = require('../internals/is-object');\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (pref !== 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = false;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nexports.UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var fails = require('./fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('./fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var toInteger = require('../internals/to-integer');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.codePointAt` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","\"use strict\";\n/**\n * String helpers\n */\n\nconst my = exports;\n/* Library */\n\n/**\n * Return `string` with first letter capitalized.\n *\n * @param {String} string\n * @return {String}\n */\n\nmy.capitalize = function (string) {\n  return string.substr(0, 1).toUpperCase() + string.slice(1);\n};\n/**\n * Returns a shortified **string** if it is longer than **max** characters; else\n * return **string**.\n *\n * @param {String} string\n * @param {Number} [max=50] - The maximum length for **string**.\n * @return {String}\n */\n\n\nmy.shorter = function (string, max = 50) {\n  if (string.length > max) {\n    return \"\".concat(string.substr(0, 5), \"...\").concat(string.substr(-5));\n  } else {\n    return string;\n  }\n};\n/**\n * Test if **string** is made of printable UTF8 characters. This is a simplified\n * test that has a small probability to return false positive.\n *\n * @param {String}\n * @return {Boolean}\n */\n\n\nmy.isUtf8 = function (string) {\n  // eslint-disable-next-line no-control-regex\n  return !string.match(/[\\0-\\x1F\\x7F-\\x9F\\xAD\\uD7FC-\\uF8FF]/);\n};\n/**\n * Test if **string** made of base64 characters.\n *s\n * @param  {String} string\n * @return {Boolean}\n */\n\n\nmy.isBase64 = function (string) {\n  return !!string.match(/^[0-9a-zA-Z+/]*=*$/);\n};","\"use strict\";\n/**\n * Normalize TxParams\n */\n\n/* Definition */\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nconst normalize = {};\n/* Rules: transaction */\n\nnormalize.txBefore = function (tx) {\n  removeEmptyFields(tx);\n};\n\nnormalize.txAfter = function (tx) {\n  if (!tx.operations) tx.operations = []; // TODO: move to deconstruct.\n\n  const minFee = String(100 * tx.operations.length);\n  if (tx.fee === minFee) delete tx.fee;\n\n  if (tx.network === \"public\" || tx.network === \"test\") {\n    delete tx.horizon;\n  } // TODO: else, tx.horizon = TxParams.resolve.horizon(tx.network)\n\n\n  tx.check();\n};\n/* Rules: operations */\n\n\nnormalize.opBefore = function (op) {\n  removeEmptyFields(op);\n\n  switch (op.type) {\n    case \"createPassiveOffer\":\n      op.type = \"createPassiveSellOffer\";\n      break;\n\n    case \"manageOffer\":\n      op.type = \"manageSellOffer\";\n      break;\n\n    case \"pathPayment\":\n      op.type = \"pathPaymentStrictReceive\";\n      break;\n  }\n};\n\nnormalize.opAfter = function (op, tx) {\n  const XLM = {\n    code: \"XLM\"\n  };\n  const neutralAsset = {\n    code: \"XLM\",\n    issuer: tx.specs.pubkey.neutral\n  }; // No limit = maximum limit.\n\n  if (op.limit === \"922337203685.4775807\") delete op.limit; // New offer.\n\n  if (op.offerId === \"0\") delete op.offerId; // Empty asset conversion path.\n\n  if (op.path && !op.path.length) delete op.path; // Useless denominator.\n\n  if (op.price && op.price.d === 1) op.price = op.price.n;\n\n  switch (op.type) {\n    case \"allowTrust\":\n      // Allow trust by default. (CosmicLink backward compatibility)\n      if (op.authorize === undefined) op.authorize = 1;\n      break;\n\n    case \"createPassiveSellOffer\":\n    case \"manageBuyOffer\":\n    case \"manageSellOffer\":\n      // Syntactic sugar for offer deletion\n      if (op.offerId && (op.amount === \"0\" || op.buyAmount === \"0\")) {\n        if (!op.buying && !op.selling) op.buying = neutralAsset;\n        if (!op.price) op.price = \"1\";\n      } // XLM as default asset.\n\n\n      if (op.buying && !op.selling) op.selling = XLM;\n      if (op.selling && !op.buying) op.buying = XLM;\n      break;\n\n    case \"manageData\":\n      // Delete data entry.\n      if (!op.value) op.value = {\n        type: \"text\",\n        value: \"\"\n      };\n      break;\n\n    case \"pathPaymentStrictReceive\":\n    case \"pathPaymentStrictSend\":\n      // XLM as default asset.\n      if (op.destAsset && !op.sendAsset) op.sendAsset = XLM;\n      if (op.sendAsset && !op.destAsset) op.destAsset = XLM;\n      break;\n\n    case \"payment\":\n      // XLM as default asset.\n      if (!op.asset) op.asset = XLM;\n      break;\n  }\n};\n/* Rules: fields */\n\n\nnormalize.amount = function (amount) {\n  return String(amount);\n};\n\nnormalize.authorizeFlag = function (flag) {\n  // Backward compatibility (protocol =< 12)\n  if (flag === false) {\n    return 0;\n  } else if (flag === true) {\n    return 1;\n  } else {\n    return flag;\n  }\n};\n\nnormalize.date = function (date) {\n  // Syntactic sugar: \"+{mins}\".\n  if (date.match(/^\\+[0-9]+$/)) {\n    const shifted = new Date();\n    shifted.setMinutes(shifted.getMinutes() + +date.substr(1));\n    date = shifted.toISOString().replace(/\\.[0-9]{3}/, \"\");\n  } // Strip superfluous data.\n\n\n  return date.replace(/:00\\.000/, \"\").replace(/\\.000/, \"\").replace(/T00:00Z/, \"\");\n};\n\nnormalize.memo = function (memo) {\n  if (typeof memo === \"string\") {\n    return {\n      type: \"text\",\n      value: memo\n    };\n  } else {\n    return memo;\n  }\n};\n\nnormalize.url = function (url) {\n  return url.substr(0, 4) === \"http\" ? url : \"https://\" + url;\n};\n\nnormalize.weight = function (amount) {\n  return String(amount);\n};\n/* Helpers */\n\n\nfunction removeEmptyFields(object) {\n  for (let field in object) {\n    if (object[field] == null) {\n      delete object[field];\n    }\n  }\n}\n/* Export */\n\n\nmodule.exports = normalize;","\"use strict\";\n/**\n * Parse TxParams\n *\n * This is the parser for parameters passed as JavaScript object. Parameters may\n * be encoded in one of three forms:\n *\n * 1. The normal TxParams form.\n * 2. The query form.\n * 3. The StellarSdk form.\n *\n * This action dispatch the data to the right decoder & turns everything into\n * the normalized TxParams form.\n */\n\nconst {\n  type\n} = require(\"@kisbox/utils\");\n\nconst transaction = require(\"../format/transaction\");\n\nconst query = require(\"../format/query\");\n/* Definition */\n\n\nconst parse = {};\n/* Rules: transaction */\n\nparse.txAfter = function (tx) {\n  tx.normalize();\n};\n/* Rules: operations */\n\n/* Rules: fields */\n\n\nparse.asset = function (asset) {\n  if (typeof asset === \"string\") {\n    return query.decode.asset(asset);\n  } else {\n    return asset;\n  }\n};\n\nparse.assetPath = function (assetPath) {\n  if (typeof assetPath === \"string\") {\n    return query.decode.assetPath(assetPath);\n  } else if (Array.isArray(assetPath)) {\n    return assetPath.map(asset => parse.asset(asset));\n  }\n};\n\nparse.buffer = function (buffer) {\n  if (!buffer) {\n    return {\n      type: \"text\",\n      value: \"\"\n    };\n  } else if (buffer instanceof Buffer) {\n    return transaction.decode.buffer(buffer);\n  } else if (typeof buffer === \"string\") {\n    return query.decode.buffer(buffer);\n  } else {\n    return buffer;\n  }\n};\n\nparse.date = function (date) {\n  if (type(date) === \"date\") {\n    return date.toISOString();\n  } else if (typeof date === \"number\") {\n    date = String(date);\n  }\n\n  if (date.match(/^[0-9]*$/ && date.length > 4)) {\n    // Timestamp\n    return transaction.decode.date(date);\n  } else {\n    // ISO Date or `+x`\n    return query.decode.date(date);\n  }\n};\n\nparse.memo = function (memo) {\n  if (typeof memo === \"string\") {\n    return query.decode.memo(memo);\n  } else if (memo._type && memo._value) {\n    return transaction.decode.memo(memo);\n  } else {\n    return memo;\n  }\n};\n\nparse.price = function (price) {\n  if (typeof price === \"string\" && price.match(/:/)) {\n    return query.decode.price(price);\n  } else {\n    return price;\n  }\n};\n\nparse.signer = function (signer) {\n  if (typeof signer === \"string\") {\n    return query.decode.signer(signer);\n  } else {\n    return signer;\n  }\n};\n\nparse.string = function (string) {\n  if (typeof string === \"number\") {\n    return String(string);\n  } else {\n    return string;\n  }\n};\n/* Export */\n\n\nmodule.exports = parse;","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\"use strict\";\n/**\n * Parameters\n * */\n\nconst {\n  LiveObject\n} = require(\"@kisbox/model\");\n\nconst {\n  xassoc\n} = require(\"@kisbox/helpers\");\n/* Definition */\n\n\nclass Parameters extends LiveObject {}\n\nconst proto = Parameters.prototype;\n/* Utility */\n\nParameters.forEach = function (query, callback) {\n  if (query[0] !== \"?\") throw new TypeError(\"Not a query: \".concat(query));\n  query.substr(1).split(\"&\").forEach(entry => {\n    const key = entry.split(\"=\")[0];\n    const value = entry.substr(key.length + 1);\n    callback(decodeURIComponent(value), key);\n  });\n};\n/* Format: Query */\n\n\nParameters.fromQuery = function (query) {\n  const params = new Parameters();\n  Parameters.forEach(query, (value, key) => {\n    params[key] = value;\n  });\n  return params;\n};\n\nproto.toQuery = function (prefix = \"?\") {\n  let query = \"\";\n  xassoc(this, (value, key) => {\n    query += \"&\".concat(key, \"=\").concat(encodeURIComponent(value));\n  });\n  return \"\".concat(prefix).concat(query.substr(1));\n};\n/* Format: Json */\n\n\nParameters.fromJson = function (json) {\n  return Object.assign(new Parameters(), JSON.parse(json));\n};\n\nproto.toJson = function () {\n  return JSON.stringify(this, null, 2);\n};\n/* Export */\n\n\nmodule.exports = Parameters;","\"use strict\";\n\nmodule.exports = {\n  Observable: require(\"./observable\"),\n  LiveObject: require(\"./live-object\"),\n  LiveArray: require(\"./live-array\")\n};","\"use strict\";\n/**\n * Methods that allow to spread an object changes toward another.\n */\n\nconst {\n  type\n} = require(\"@kisbox/utils\");\n\nconst {\n  call,\n  xeach,\n  keach,\n  isInstance,\n  noThrow\n} = require(\"@kisbox/helpers\");\n\nconst Observable = require(\"./observable\");\n\nconst $events = require(\"./lib/events\");\n\nconst $traps = require(\"./lib/traps\");\n/* Definition */\n\n\nclass LiveObject extends Observable {\n  /* link/import/export/pick */\n  $link(target, keys) {\n    if (!target) return;\n    safe.$pick(this, target, keys);\n    safe.$export(this, target, keys);\n    safe.$export(target, this, keys);\n  }\n\n  $export(target, keys, transformer) {\n    if (!target) return;\n    xeach(keys, key => {\n      safe.$push(this, key, target, key, transformer);\n    });\n  }\n\n  $import(target, keys, transformer) {\n    if (!target) return;\n    xeach(keys, key => {\n      safe.$pull(this, key, target, key, transformer);\n    });\n  }\n\n  $pick(target, keys, transformer) {\n    if (!target) return;\n    xeach(keys, key => {\n      if (key in target) {\n        const value = target[key];\n        this[key] = transformer ? transformer(value) : value;\n      }\n    });\n  }\n  /* pull/push */\n\n\n  $pull(key, target, targetKey = key, transformer) {\n    if (!(targetKey in target)) return;\n\n    if (typeof target.$push === \"function\") {\n      target.$push(targetKey, this, key, transformer);\n    } else {\n      const value = target[targetKey];\n      this[key] = transformer ? transformer(value) : value;\n    }\n  }\n\n  $push(key, target, targetKey = key, transformer) {\n    const callback = transformer ? () => target[targetKey] = transformer(this[key]) : () => target[targetKey] = this[key];\n\n    if (target !== this && typeof target.$listen === \"function\") {\n      target.$listen(this, key, callback);\n    } else {\n      safe.$on(this, key, callback);\n    }\n\n    if (key in this) callback();\n  }\n  /* $define, $compute, $set */\n\n\n  $define(key, depends, definition) {\n    setupDefinition(this, key, depends, definition, \"safe\");\n  }\n\n  $customDefine(key, depends, definition) {\n    setupDefinition(this, key, depends, definition);\n  }\n\n  $compute(keys) {\n    // trap.outdate?\n    const events = $events.get(this);\n    if (!events) return;\n    xeach(keys, key => {\n      events.trigger(\"outdate:\".concat(key));\n    });\n  }\n\n  $set(keys, value) {\n    keach(keys, value, (key, value) => {\n      $traps.setValue(this, key, value || this[key]);\n    });\n  }\n\n}\n\nconst safe = call(LiveObject);\n/* Helpers */\n\nfunction setupDefinition(target, key, depends, definition, safeFlag) {\n  const compute = function () {\n    this[key] = computeDefinition(this, depends, definition, safeFlag);\n  };\n\n  target.$on(depends, compute);\n  if (isInstance(target)) compute.call(target); // TODO: Plutôt utiliser `trap`\n\n  $events(target).put(\"outdate:\".concat(key), compute);\n}\n\nfunction computeDefinition(object, depends, definition, safeFlag) {\n  const state = definitionDependsState(object, depends);\n\n  if (state === undefined) {\n    return undefined;\n  } else if (safeFlag && state) {\n    return state;\n  } else {\n    return noThrow(() => definition.call(object, object));\n  }\n}\n\nfunction definitionDependsState(object, depends) {\n  let error, promise;\n\n  for (let key of depends) {\n    const value = object[key];\n\n    if (value === undefined) {\n      return;\n    } else if (!error) {\n      if (type(value) === \"error\") {\n        error = value;\n      } else if (!promise && type(value) === \"promise\") {\n        promise = new Promise(() => {});\n      }\n    }\n  }\n\n  return error || promise || null;\n}\n/* Export */\n// TODO: encapsulate Trapped\n\n\nmodule.exports = LiveObject;","\"use strict\";\n/**\n * Live Arrays\n *\n * Implementation details:\n *\n * In order to keep things efficient, the general idea is to use LiveObject\n * traps when a property is set (e.g.: liveArray[5] = \"foo\"), but to use\n * dedicated logic when the array is mutated using the usual methods (`push`,\n * `pop`, `shift`, `unshift` and `splice`).\n */\n\nconst {\n  call,\n  sync,\n  hideLock\n} = require(\"@kisbox/helpers\");\n\nconst {\n  plan\n} = require(\"@kisbox/utils\");\n\nconst Observable = require(\"./observable\");\n\nconst $traps = require(\"./lib/traps\");\n\nconst $events = require(\"./lib/events\");\n/* Definition */\n\n\nclass LiveArray extends Array {\n  $forEach(callback) {\n    setupTraps(this);\n    this.$on(\"$add\", ([item, index], returned, type, context) => {\n      callback.call(context, item, index, context);\n    });\n    const maybePromises = this.map(callback);\n    return sync(maybePromises);\n  }\n\n  $forExit(callback) {\n    setupTraps(this);\n    this.$on(\"$remove\", ([item], returned, type, context) => {\n      callback.call(context, item, context);\n    });\n  }\n\n  $map(generator) {\n    const map = generator ? this.map(generator) : this.slice();\n    hideLock(map, \"generator\", generator);\n    map.$listen(this, [\"shift\", \"pop\"], propagateShiftOrPop.bind(map));\n    map.$listen(this, [\"unshift\", \"push\"], propagateUnshiftOrPush.bind(map));\n    map.$listen(this, [\"splice\"], propagateSplice.bind(map));\n    setupTraps(this);\n    let handler = generator ? (item, previous, index) => map[index] = generator(item) : (item, previous, index) => map[index] = item;\n    map.$listen(this, \"$set\", handler);\n    return map;\n  }\n\n  $sort(compare) {\n    const clone = this.slice();\n    setupTraps(this); // TODO: update may cause two '$change' events to happen in the same round.\n\n    const sort = () => $traps(clone).sort(compare);\n\n    const update = () => {\n      sort();\n      clone.$trigger(\"$change\");\n    }; // Source array changes\n\n\n    clone.$listen(this, [\"$add\"], ([item]) => {\n      clone.push(item);\n      sort();\n    });\n    clone.$listen(this, [\"$remove\"], ([item]) => {\n      removeOnce(clone, item);\n    }); // Array LiveItem changes\n\n    clone.$forEach(item => {\n      if (!$events.isIn(item)) return;\n      clone.$listen(item, \"$change\", () => plan(update));\n    });\n    clone.$forExit(item => {\n      if (!$events.isIn(item)) return;\n      clone.$ignore(item);\n    });\n    update();\n    return clone;\n  }\n  /**\n   * With LiveArrays, `.sort()` is non-destructive and returns a new object.\n   */\n\n\n  sort(compare) {\n    const clone = this.slice();\n    call(Array).sort(clone, compare);\n    return clone;\n  }\n  /* Events */\n\n\n  $add() {}\n\n  $remove() {}\n\n  $change() {}\n\n} // TODO: use safe.\n\n\nconst proto = LiveArray.prototype;\n/* Mixin */\n// TODO: Find a better way to put it.\n\nconst mixinMethods = [\"$trigger\", \"$on\", \"$off\", \"$listen\", \"$ignore\", \"$destroy\"];\nmixinMethods.forEach(key => proto[key] = Observable.prototype[key]);\n/* Trap-conscious wrappers */\n\nconst wrappedMethods = [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"];\n\nfunction methodWrapper(methodName) {\n  const baseMethod = Array.prototype[methodName];\n  return function () {\n    if ($traps.isOn(this)) {\n      // Traps are set - apply the method to the wrapped array & update traps.\n      const trapped = $traps(this);\n      const returned = baseMethod.apply(trapped, arguments);\n      updateTraps(this);\n      return returned;\n    } else {\n      // Traps are not set - it's a normal array.\n      return baseMethod.apply(this, arguments);\n    }\n  };\n}\n\nwrappedMethods.forEach(key => proto[key] = methodWrapper(key));\n/* Helpers: Setup Traps */\n\nfunction setupTraps(liveArray) {\n  if ($traps.isOn(liveArray)) return;\n  $traps.set(liveArray, []);\n  liveArray.forEach((_, key) => $traps.trapValue(liveArray, key));\n}\n\nfunction updateTraps(liveArray) {\n  // `trapped` contains the actual data - `liveArray` has the getter/setters.\n  const trapped = $traps(liveArray);\n  const diff = liveArray.length - trapped.length;\n\n  if (diff < 0) {\n    // Add traps.\n    for (let key = liveArray.length; key < trapped.length; key++) {\n      liveArray[key] = trapped[key]; // Required by `$trap.trapValue()`.\n\n      delete trapped[key]; // Required by `$trap.trapValue()`.\n\n      $traps.trapValue(liveArray, key);\n    }\n  } else if (diff > 0) {\n    // Remove traps.\n    for (let key = trapped.length; key < liveArray.length; key++) {\n      $events(liveArray).delete(key);\n    }\n\n    liveArray.length = trapped.length;\n  }\n}\n/* Helpers: Propagatate Actions */\n\n\nfunction propagateShiftOrPop(args, returned, method) {\n  this[method]();\n}\n\nfunction propagateUnshiftOrPush([item], returned, method) {\n  if (this.generator) item = this.generator(item);\n  this[method](item);\n}\n\nfunction propagateSplice([index, removed, ...added]) {\n  if (this.generator) added = added.map(this.generator);\n  this.splice(index, removed, ...added);\n}\n/* Notify Changes */\n\n\nproto.$on(\"$set\", function (item, previous, index) {\n  this.$add(item, index);\n  this.$remove(previous);\n});\nproto.$on([\"shift\", \"pop\"], function (args, returned) {\n  this.$remove(returned);\n});\nproto.$on(\"push\", function ([item]) {\n  this.$add(item, this.length - 1);\n});\nproto.$on(\"unshift\", function ([item]) {\n  this.$add(item, 0);\n});\nproto.$on(\"splice\", function (args, returned) {\n  const [index,, ...added] = args;\n\n  if (added.length) {\n    added.forEach((item, rindex) => {\n      this.$add(item, index + rindex);\n    });\n  }\n\n  if (returned.length) {\n    returned.forEach(item => {\n      this.$remove(item);\n    });\n  }\n});\n/* Helpers */\n\nfunction removeOnce(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n/* Export */\n\n\nmodule.exports = LiveArray;","\"use strict\";\n/**\n * TxParams Format: JSON\n */\n\n/* Definition */\n\nconst encode = {},\n      decode = {};\n/* Rules: transaction */\n\nencode.transaction = function (tx) {\n  return JSON.stringify(tx, null, 2);\n};\n\ndecode.transaction = function (tx, json) {\n  const params = JSON.parse(json);\n  return new tx.constructor(params);\n};\n/* Export */\n\n\nmodule.exports = {\n  encode,\n  decode\n};"],"sourceRoot":""}